import Layout from "@/components/Layout";
import Button from "@/components/Common/button";
import Section from "@/components/Common/section";
import Alert from "@/components/Common/alert";
import Tabs from "@/components/Common/tab";
import Step from "@/components/Common/step";
import Card from "@/components/Common/card";
import Important from "@/components/Common/important";
import Highlight from "@/components/Common/highlight";
import Link from "next/link";
import NextPage from "@/components/Common/nextpage";

import Head from "next/head";

<Layout>
<Head>
<title>مستندات استفاده از دیسک یا Volume در Docker - لیارا</title>
</Head>
# استفاده از دیسک به عنوان Volume در برنامه‌های Docker
<hr className="mb-2" />

Volume در Docker به مکانیزمی برای مدیریت داده‌های پایدار در کانتینرها اشاره دارد. Volumes برای ذخیره داده‌هایی استفاده می‌شوند که فراتر از چرخه حیات کانتینر مورد نیاز هستند، یعنی داده‌هایی که حتی پس از توقف یا حذف کانتینر باقی می‌مانند. Volumes خارج از سیستم فایل کانتینر ذخیره می‌شوند و مدیریت آن‌ها توسط Docker انجام می‌شود.
<div className='h-2' />

در نظر داشته باشید که <a href="../../details/file-system#docker-and-nextjs-deaful-fs" className="blue-link">فایل‌سیستم</a> برنامه‌های Docker، به صورت پیش‌فرض، Writable است. البته اگر که در این حالت، تغییری رخ دهد و یا فایل جدیدی ذخیره شود، پس از ری‌استارت شدن برنامه به هر دلیلی، این تغییرات، از بین خواهند رفت. 
در لیارا، شما می‌توانید برای ذخیره پایدار داده‌های خود و تغییرات مدنظرتان، از مفهوم <a href="../../disks/about" className="blue-link">دیسک‌ها</a>، به جای Volume استفاده کنید.
<div className='h-2' />

برای استفاده از <a href="../../disks/about" className="blue-link">دیسک‌ها</a> در برنامه‌های Docker در ابتدا باید طبق مستندات <a href="../../disks/create" className="blue-link">ساخت دیسک</a>، دیسک‌های مدنظر خود را بسازید؛ در ادامه، می‌توانید طبق مستندات <a href="../../disks/route" className="blue-link">تعریف مسیر برای دیسک</a>، دیسک‌های خود را به دایرکتوری‌های مدنظرتان، متصل کنید.
<div className='h-2' />

در نظر داشته باشید که باید مسیر دایرکتوری مدنظر خود را در برنامه‌های Docker  به صورت <b>مطلق و با در نظر گرفتن نام WORKING DIRECTORY</b> مشخص کنید؛ به عنوان مثال، برای اتصال یک دیسک به دایرکتوری <Important>uploads</Important> در یک Working Directory به نام <Important>app/</Important> کافیست تا مسیر زیر را به دیسک، متصل کنید:

<div className='h-2' />
<div dir="ltr">
<Highlight className="bash">
{`/app/uploads/`}
</Highlight>
</div>
<div className='h-2' />

بنابراین، اگر یک Image شامل قطعه کد زیر باشد:
<div className='h-2' />
<div dir="ltr">
<Highlight className="dockerfile">
{`FROM ubuntu

RUN echo hello

VOLUME /path/to/data`}
</Highlight>
</div>
<div className='h-2' />

شما بایستی قطعه کد مربوط به <Important>VOLUME</Important> را حذف کرده و به جای آن، از دیسک‌ها استفاده کنید.
<div className='h-2' />

<Alert variant='success'>همچنین بخوانید: <a href="../../details/file-system" className="blue-link">فایل سیستم لیارا</a></Alert>
<Alert variant='success'>همچنین بخوانید: <a href="../../disks/about" className="blue-link">نحوه مدیریت دیسک‌ها</a></Alert>

<NextPage next="./configure-supercronic" />
</Layout>