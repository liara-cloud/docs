import Layout from "@/components/Layout";
import Button from "@/components/Common/button";
import Section from "@/components/Common/section";
import Alert from "@/components/Common/alert";
import Tabs from "@/components/Common/tab";
import Step from "@/components/Common/step";
import Card from "@/components/Common/card";
import Important from "@/components/Common/important";
import Highlight from "@/components/Common/highlight";
import Link from "next/link";
import NextPage from "@/components/Common/nextpage";
import PlatformIcon from "@/components/Common/icons";
import {GoArrowLeft,} from "react-icons/go";

import Head from "next/head";

<Layout>
<Head>
<title>مستندات استقرار برنامه‌های Drizzle در NodeJS - لیارا</title>
<meta property="og:title" content="مستندات خدمات رایانش ابری لیارا" />
<meta property="og:description" content="مستندات مربوط به استقرار برنامه‌ها با Drizzle ORM در پلتفرم NodeJS در لیارا"  />
</Head>
# استقرار برنامه‌های وابسته به Drizzle ORM در لیارا
<hr className="mb-2" />


برای استقرار برنامه‌های وابسته به Drizzle ORM نیاز به انجام کاری نیست. فقط
کافیست تا قبل از استقرار، متغیرهای محیطی مورد نیاز دیتابیس را طبق مستندات{" "}
<a href="/paas/details/envs" className="text-[#2196f3] ">متغیرهای محیطی</a> به برنامه
اضافه کنید و دستور زیر را اجرا کنید تا فایل‌های migration برای‌تان ایجاد
شوند:


<div className='h-2' />
<div dir="ltr">
<Highlight className="bash">{`npx drizzle-kit generate`}</Highlight>
</div>
<div className='h-2' />
    
سپس، بایستی در فایل <Important>package.json</Important> یک اسکریپت
به نام <Important>migrate</Important> با دستور زیر، اضافه کنید:
    
<div className='h-2' />
<div dir="ltr">
<Highlight className="json">
      {`{
    "scripts": {
        "migrate": "drizzle-kit migrate --config drizzle.config.ts"
  },
}`}
    </Highlight></div>
<div className='h-2' />


در ادامه، طبق <a href="/paas/nodejs/how-tos/use-hooks" className="text-[#2196f3] ">مستندات مربوط به Hookها</a>، باید در مسیر اصلی پروژه، یک فایل به
نام <Important>liara_pre_build.sh</Important> ایجاد کنید و قطعه کد
زیر را در آن قرار دهید:

<div className='h-2' />
<div dir="ltr">
<Highlight className="bash">
      {`npm install drizzle-orm;
npm install -D drizzle-kit;
npm run migrate;`}
</Highlight>
</div>
<div className='h-2' />

در نهایت، کافیست تا دستور <Important>liara deploy</Important> را
اجرا کنید تا برنامه‌تان در لیارا مستقر شود. پس از استقرار موفق، می‌توانید
از برنامه خود استفاده کنید.

<div className='h-2' />

<Alert variant="info">
      اگر که از دیتابیس SQLite استفاده می‌کنید،
      باید طبق مستندات مربوط به <a href="/paas/disks/create" className="text-[#2196f3] ">دیسک‌ها</a>، یک دیسک ایجاد و
      به مسیر دیتابیس، متصل کنید.
</Alert>

</Layout>