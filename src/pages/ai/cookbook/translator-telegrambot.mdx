import Layout from "@/components/Layout";
import Button from "@/components/Common/button";
import Section from "@/components/Common/section";
import Alert from "@/components/Common/alert";
import ThemePlatformIcon from "@/components/Common/themeIcons"
import Tabs from "@/components/Common/tab";
import Step from "@/components/Common/step";
import Card from "@/components/Common/card";
import Important from "@/components/Common/important";
import Highlight from "@/components/Common/highlight";
import Link from "next/link";
import PlatformIcon from "@/components/Common/icons";
import HighlightTabs from "@/components/Common/HighlightTabs";
import IconContainer from "@/components/Common/IconContainer";
import {
  GoContainer,
  GoDatabase,
  GoRocket,
  GoServer,
  GoMail,
  GoGlobe,
  GoArrowLeft,
  GoTelescope,
} from "react-icons/go";

import Head from "next/head";

<Layout>
<Head>
<title>ูุณุชูุฏุงุช ุณุงุฎุช ุฑุจุงุช ุชูฺฏุฑุงู ูุชุฑุฌู - ูุงุฑุง</title>
<meta property="og:title" content="ูุณุชูุฏุงุช ุฎุฏูุงุช ุฑุงุงูุด ุงุจุฑ ูุงุฑุง" />
<meta property="og:description" content="ูุณุชูุฏุงุช ูุฑุจูุท ุจู ุณุงุฎุช ุฑุจุงุช ูุชุฑุฌู ุจุง ุงุณุชูุงุฏู ุงุฒ AI SDK ู ุณุฑูุณ ููุด ูุตููุน ูุงุฑุง"  />
</Head>


# ุณุงุฎุช ุฑุจุงุช ูุชุฑุฌู ุชูฺฏุฑุงู ุจุง AI SDK
<hr className="mb-2" />

ุฏุฑ ุงู ุฑุงูููุงุ ูโุขููุฒุฏ ฺฉู ฺฺฏููู ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู ุจุงูุง ุจุงูุฑุฏ ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ AI SDK ู ุณุฑูุณ ููุด ูุตููุน ูุงุฑุงุ ุนููุงุช ุชุฑุฌูู ูุชู ุฑุง ุงูุฌุงู ูโุฏูุฏ. ุงู ุฑุจุงุช ุจู ูุงุณุทู ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู ุงุฑุฒุงุจ 
ูโุชูุงูุฏ ุจูุชุฑู ุฌูุงุจ ููฺฉู ุฑุง ุจุฑุง ุชุฑุฌููุ ุจุฑฺฏุฑุฏุงูุฏ. ููฺููุ ููฺฉู ุงุณุช ุชูุถุญุงุช ุฏุฑ ููุฑุฏ ูุชู ุชุฑุฌูู ุดุฏูุ ุฏุงุดุชู ุจุงุดุฏ.
<hr className="mb-2" />


<Section id='telegram-bot-setup' title='ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุชูฺฏุฑุงู' />

ูุจู ุงุฒ ุดุฑูุน ุจู ุณุงุฎุช ูพุฑูฺูุ ุดูุง ุจุงุฏ ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู ุจุณุงุฒุฏ ู ุขู ุฑุง ูพฺฉุฑุจูุฏ ฺฉูุฏ:

<Step  steps={[
{
  step: "ฑ",
  content: (
  <>
    <p>ูุงุฑุฏ ุงฺฉุงูุช ูุฏูุธุฑุชุงู ุฏุฑ ุชูฺฏุฑุงู ุดูุฏุ ุฏุฑ ุจุฎุด <b>search</b>ุ ุนุจุงุฑุช <Important>botfather@</Important> ุฑุง ุฌุณุชุฌู ฺฉูุฏ. ูุชุฌู ุงุตู ุฑุง ุงูุชุฎุงุจ ู ุขู ุฑุง <Important>start</Important> ฺฉูุฏ.</p>
  </>
  ) 
},
{
  step: "ฒ",
  content: (
  <>
    <p>
      ุนุจุงุฑุช <Important>newbot/</Important> ุฑุง ุจู ุฑุจุงุช ุงุฑุณุงู ฺฉูุฏุ ุณูพุณ ฺฉ ูุงู ุจุฑุง ุฑุจุงุช ุฎูุฏ ุงูุชุฎุงุจ ฺฉูุฏ ู ุขู ุฑุง ุงุฑุณุงู ฺฉูุฏ. 
    </p>
  </>
  )
},
{
  step: "ณ",
  content: (
  <>
    <p>
      ูพุณ ุงุฒ ุงูุชุฎุงุจ ูุงู ุจุฑุง ุฑุจุงุช ุชูฺฏุฑุงู ุฎูุฏุ ุจุงุฏ ุดูุงุณู ุฑุจุงุช ุฑุง ุงูุชุฎุงุจ ฺฉูุฏุ ุฏุฑ ูุธุฑ ุฏุงุดุชู ุจุงุดุฏ ฺฉู ุงูุชูุง ุดูุงุณู ุฑุจุงุชุ ุจุงุฏ ุจู <Important>bot</Important> ุฎุชู ุดูุฏุ ุจูโุนููุงู ูุซุงู: <Important>myGoodBot</Important> ุง <Important>my_good_bot</Important>. ูพุณ ุงุฒ ุงูุชุฎุงุจ ุดูุงุณูุ ุขู ุฑุง ุจู ุฑุจุงุชุ ุงุฑุณุงู ฺฉูุฏ.
    </p>
  </>
  )
},
{
  step: "ด",
  content: (
  <>
    <p>
      ุจุง ุงูุฌุงู ฺฏุงูโูุง ูููุ ุฑุจุงุชโุชุงู ุณุงุฎุชู ูโุดูุฏ ู ฺฉ <Important>token</Important> ุจู ุดูุง ุชุนูู ูโฺฏุฑุฏ. ุชูฺฉู ุฑุง ุจุฑุง ูุฑุงุญู ุจุนุฏุ ุฐุฎุฑู ฺฉูุฏ. 
    </p>
  </>
  )
},
]}
/>
<div className="h-4" />   
<video
    src="https://media.liara.ir/ai/ai-sdk/cookbook/translator-telegrambot/create-telegram-bot.mp4"
    controls="controls"
    className="block w-full"
    width="100%"
/>
<hr className="mb-2" />

<Section id='project-setup' title='ุฑุงูโุงูุฏุงุฒ ูพุฑูฺู' />
ุงู ูพุฑูฺูุ ุงุฒ ููุงูุฑโูุง ุฒุฑ ุงุณุชูุงุฏู ุฎูุงูุฏ ฺฉุฑุฏ: 

<div className="h-4" />
<ul>
<li><a href="https://ai-sdk.dev/docs/introduction" className="text-[#2196f3]">AI SDK</a></li>
<li><a href="https://api.slack.com/web" className="text-[#2196f3]">Telegram API</a></li>
<li><a href="https://liara.ir/products/ai/" className="text-[#2196f3]">ุณุฑูุณ ููุด ูุตููุน ูุงุฑุง</a></li>
<li><a href="https://liara.ir/landing/%D9%87%D8%A7%D8%B3%D8%AA-%D9%86%D9%88%D8%AF-%D8%AC%DB%8C-%D8%A7%D8%B3-node/" className="text-[#2196f3]">ูุงุณุช NodeJS ูุงุฑุง</a></li>
</ul>
<hr className="mb-2" />
<Section id='getting-started' title='ุดุฑูุน ุจู ฺฉุงุฑ' />

ฑ. ฺฉ ฺฉููู ุงุฒ <a href="https://github.com/liara-cloud/ai-sdk-examples" className="text-[#2196f3]">ุฑูพุงุฒุชูุฑ AI SDK Examples</a> ุชูู ฺฉูุฏ ู ูุงุฑุฏ ุฏุงุฑฺฉุชูุฑ <Important>Telegram-Bot</Important> ุดูุฏ:

<div className="h-2" />
<div dir='ltr'>
    <Highlight className="js">
        {`git clone https://github.com/liara-cloud/ai-sdk-examples.git
cd ai-sdk-examples/Telegram-Bot`}
    </Highlight>
</div>
<div className="h-2" />

ฒ. ูุงุจุณุชฺฏโูุง ุจุฑูุงูู ุฑุง ุจุง ุงุฌุฑุง ุฏุณุชูุฑ ุฒุฑ ูุตุจ ฺฉูุฏ: 

<div className="h-2" />
<div dir='ltr'>
    <Highlight className="js">
        {`npm install`}
    </Highlight>
</div>
<hr className="mb-2" />

<Section id='getting-started' title='ุณุงุฎุชุงุฑ ูพุฑูฺู' />
ุณุงุฎุชุงุฑ ูพุฑูฺู ูุฐฺฉูุฑุ ุจู ุดฺฉู ุฒุฑ ุงุณุช: 

<div className="h-4" />
<ul>
  <li>ูุงู ุงุตู <Important>index.ts</Important> ฺฉู ููุทู ุดุฑูุน ุจุฑูุงูู ุงุณุช ู ุชุนุงููุงุช ฺฉุงุฑุจุฑ ุจุง ุฑุจุงุช ุฑุง ูุฏุฑุช ูโฺฉูุฏ</li>
  <div className="h-1" />
  <li>ูุงฺูู ุชุฑุฌูู ุฏุฑ ูุณุฑ <Important>translator.ts</Important> ฺฉู ูุณุฆูู ุงุฑุณุงู ุฏุฑุฎูุงุณุช ุจู LLMุ ุจุฑุฑุณ ฺฉูุช ุชุฑุฌููุ ู ุจุงุฒฺฏุฑุฏุงูุฏู ูุชุฌู ููุง ุงุณุช</li>
  </ul>
<hr className="mb-2" />

<Section id='bot-user-interaction' title='ูุฏุฑุช ุชุนุงููุงุช ุฑุจุงุช ุจุง ฺฉุงุฑุจุฑ' />

ููุงูุทูุฑ ฺฉู ูุจูโุชุฑ ฺฏูุชู ุดุฏุ ูุงู <Important>index.ts</Important> ุชุนุงููุงุช ุฑุจุงุช ุชูฺฏุฑุงู ุจุง ฺฉุงุฑุจุฑุงู ุฑุง ูุฏุฑุช ูโฺฉูุฏ. ุฏุฑ ุงู ูุงูุ ุงุฒ ฺฉุชุงุจุฎุงูู <Important>node-telegram-bot-api</Important> ุจุฑุง ุงุฑุชุจุงุท ุจุง API ุชูฺฏุฑุงู ุงุณุชูุงุฏู ุดุฏู ุงุณุช.
ูุทุนู ฺฉุฏ ุงู ูุงูุ ุฏุฑ ุงุฏุงูู ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช: 


<div className="h-2" />
<div dir='ltr'>
    <Highlight className="js">
        {`import TelegramBot from 'node-telegram-bot-api';
import dotenv from 'dotenv';
import { translateWithFeedback } from './translator';

dotenv.config();

const bot = new TelegramBot(process.env.TELEGRAM_BOT_TOKEN!, { polling: true });

type UserState = {
  step: 'idle' | 'awaitingText' | 'awaitingTargetLanguage';
  sourceText?: string;
};

const userStates = new Map<number, UserState>();

bot.onText(/\\/start/, (msg) => {
  const chatId = msg.chat.id;
  bot.sendMessage(
    chatId,
    \`ุณูุงู \${msg.from?.first_name || ''} ๐\\nุจู ุฑุจุงุช ูุชุฑุฌู ุฎูุด ุงููุฏ!\\nุงุฒ ููู ฺฉ ุงุฒ ุฏุณุชูุฑุงุช ุฑู ุงูุชุฎุงุจ ฺฉู.\`,
    {
      reply_markup: {
        keyboard: [
          [{ text: '/translate' }, { text: '/help' }],
        ],
        resize_keyboard: true,
      },
    }
  );
  userStates.set(chatId, { step: 'idle' });
});

bot.onText(/\\/translate/, (msg) => {
  const chatId = msg.chat.id;
  bot.sendMessage(chatId, '๐ ูุทูุงู ูุชู ฺฉู ูโุฎูุง ุชุฑุฌูู ุจุดู ุฑู ูุงุฑุฏ ฺฉู');
  userStates.set(chatId, { step: 'awaitingText' });
});

bot.onText(/\\/help/, (msg) => {
  const chatId = msg.chat.id;

  const helpMessage = \`
๐ค ุฑุงูููุง ุฑุจุงุช:

โ /start - ุดุฑูุน ู ููุงุด ููู ุงุตู
๐ /translate - ุชุฑุฌูู ูุชู ุจู ุฒุจุงู ุฏูุฎูุงู
โน๏ธ /help - ููุงุด ุงู ุฑุงูููุง
  \`.trim();

  bot.sendMessage(chatId, helpMessage);
});

bot.on('message', async (msg) => {
  const chatId = msg.chat.id;
  const text = msg.text?.trim();

  if (!text || text.startsWith('/')) return;

  const state = userStates.get(chatId) || { step: 'idle' };

  if (state.step === 'awaitingText') {
    userStates.set(chatId, { step: 'awaitingTargetLanguage', sourceText: text });
    bot.sendMessage(chatId, '๐ ุญุงูุง ุฒุจุงู ููุตุฏ ุฑู ูุงุฑุฏ ฺฉู (ูุซูุงู: ูุงุฑุณุ ุงูฺฏูุณ ู...)');
    return;
  }

  if (state.step === 'awaitingTargetLanguage' && state.sourceText) {
    bot.sendMessage(chatId, 'โณ ุฏุฑ ุญุงู ุชุฑุฌูู...');

    try {
      const result = await translateWithFeedback(state.sourceText, text);
      const t = result.currentObjectTranslation.translation;

      const message = \`
โ ุชุฑุฌูู ููุง:

๐ \${t.accurate_translated_text}

------------------------
๐ ุฒุจุงู ูุชู ุงุตู: \${t.text_language}
๐ ุฒุจุงู ููุตุฏ: \${t.target_language}
๐ค ูุชู ุงุตู:
\${t.text_to_translate}

๐ก ุชูุถุญุงุช (ุจู ุฒุจุงู ููุตุฏ):
\${t.explanations_related_to_translation_in_target_language}
      \`.trim();

      bot.sendMessage(chatId, message);
    } catch (err) {
      bot.sendMessage(chatId, 'โ ุฎุทุง ุฏุฑ ุชุฑุฌูู ุฑุฎ ุฏุงุฏ.');
      console.error(err);
    }

    userStates.set(chatId, { step: 'idle' });
  }
});
`}
    </Highlight>
</div>
<div className="h-2" />

ุฏุฑ ูุทุนู ฺฉุฏ ููู: 

ฑ. ูุชุบุฑูุง ูุญุท ูุฑุงุฎูุงู ูโุดููุฏ ู ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู ุจุง ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑูุง ูุญุทุ ููุฏุงุฑุฏู ูโุดูุฏ. ุณูพุณ ฺฉ instance ุงุฒ ฺฉูุงุณ ุฑุจุงุช ุจุง ุญุงูุช <Important>polling</Important> ุณุงุฎุชู ูโุดูุฏ ุชุง ุจุชูุงูุฏ ุจูโุตูุฑุช ูุญุธูโุง ูพุงูโูุง ุงุฑุณุงู ุดุฏู ุชูุณุท ฺฉุงุฑุจุฑ ุฑุงุ ุฏุฑุงูุช ฺฉูุฏ.
<div className="h-3" />

ฒ. ุจุฎุด ุจุนุฏ ูุฑุจูุท ุจู ุฏุณุชูุฑ <Important>start/</Important> ุงุณุชุ ูุฑฺฏุงู ฺฉุงุฑุจุฑ ุงู ุฏุณุชูุฑ ุฑุง ุงุฑุณุงู ฺฉูุฏุ ุฑุจุงุช ุจุง ฺฉ ูพุงู ุฎูุดโุขูุฏฺฏู ุดุงูู ูุงู ฺฉุงุฑุจุฑ (ุฏุฑ ุตูุฑุช ููุฌูุฏ ุจูุฏู) ูพุงุณุฎ ูโุฏูุฏ. ุฏุฑ ููู ูพุงูุ ููู ุณูุงุฑุด ุจู ฺฉุงุฑุจุฑ ูุดุงู ุฏุงุฏู ูโุดูุฏ ุชุง ุฏุณุชูุฑุงุช <Important>translate/</Important> ู <Important>help/</Important> ุจูโุตูุฑุช ุฏฺฉููโุง ุฏุฑ ุฏุณุชุฑุณ ุจุงุดูุฏ. ูพุณ ุงุฒ ุงุฑุณุงู ูพุงู ุฎูุดโุขูุฏุ ุจุง ุงุณุชูุงุฏู ุงุฒ <Important>chatId</Important> ฺฉุงุฑุจุฑุ ุจุฑุง ุงูุ ูุถุนุช ุจุง ูุฑุญูู <Important>idle</Important> ุชูุธู ูโฺฏุฑุฏุฏ ุชุง ุฑุจุงุช ุจุฏุงูุฏ ฺฉุงุฑุจุฑ ูููุฒ ุฏุฑ ูฺ ูุฑุญููโุง ุงุฒ ูุฑุงูุฏ ุชุฑุฌูู ูุณุช.
<div className="h-3" />

ณ. ููุช ฺฉุงุฑุจุฑ ุฏุณุชูุฑ <Important>translate/</Important> ุฑุง ุงุฑุณุงู ฺฉูุฏุ ุฑุจุงุช ุจุง ฺฉ ูพุงู ุงุฒ ุงู ูโุฎูุงูุฏ ูุชู ุฑุง ฺฉู ูโุฎูุงูุฏ ุชุฑุฌูู ุดูุฏุ ูุงุฑุฏ ููุงุฏ. ุฏุฑ ุงู ููุทูุ ูุถุนุช ฺฉุงุฑุจุฑ ุจู <Important>awaitingText</Important> ุชุบุฑ ูพุฏุง ูโฺฉูุฏ. ุงู ุชุบุฑ ูุถุนุช ุจุงุนุซ ูโุดูุฏ ฺฉู ูพุงู ุจุนุฏ ฺฉุงุฑุจุฑ ุจูโุนููุงู ูุชู ุจุฑุง ุชุฑุฌูู ุฏุฑ ูุธุฑ ฺฏุฑูุชู ุดุฏู ู ุจูโุฌุง ุจุฑุฎูุฑุฏ ุจุง ุฏฺฏุฑ ุฏุณุชูุฑุงุชุ ูุงุฑุฏ ูุฑุงูุฏ ุชุฑุฌูู ุดูุฏ.
<div className="h-3" />

ด. ุฏุณุชูุฑ <Important>help/</Important> ูุฒ ูุฑ ุฒูุงู ูุฑุงุฎูุงู ุดูุฏุ ูพุงู ุดุงูู ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ุฑุจุงุช ุงุฑุณุงู ูโฺฉูุฏ. ุฏุฑ ุงู ุฑุงูููุงุ ุชูุถุญ ูุฎุชุตุฑ ุฏุฑุจุงุฑูโ ูุฑ ฺฉ ุงุฒ ุฏุณุชูุฑุงุช ุขูุฏู ุงุณุช ุชุง ฺฉุงุฑุจุฑ ุจูโุฑุงุญุช ุจุง ููุทู ฺฉุงุฑ ุฑุจุงุช ุขุดูุง ุดูุฏ. ุงู ุจุฎุด ุจุฏูู ุชุบุฑ ูุถุนุช ฺฉุงุฑุจุฑ ุงุฌุฑุง ูโุดูุฏ.
<div className="h-3" />

ต.ูพุณ ุงุฒ ุงุฑุณุงู ูุชู ุจุฑุง ุชุฑุฌููุ ุฑุจุงุช ุงุฒ ฺฉุงุฑุจุฑ ูโุฎูุงูุฏ ุฒุจุงู ููุตุฏ ุฑุง ูุดุฎุต ฺฉูุฏ. ุจุง ูุดุฎุต ฺฉุฑุฏู ุฒุจุงู ููุตุฏุ ุงฺฏุฑ ูุถุนุช <Important>awaitingTargetLanguage</Important> ุจุงุดุฏ ู ูุชู ููุฑุฏ ูุงุฒ ุจุฑุง ุชุฑุฌูู ููุ ููุฌูุฏ ุจุงุดุฏุ ุฑุจุงุช ุงุจุชุฏุง ูพุบุงู <Important>โณ ุฏุฑ ุญุงู ุชุฑุฌูู...</Important> ุฑุง ูโูุฑุณุชุฏุ ุณูพุณ ุจุง ูุฑุงุฎูุงู ุชุงุจุน ุฎุงุฑุฌ <Important>translateWithFeedback</Important> ูุชู ุฑุง ุจู ุฒุจุงู ุฏูุฎูุงู ฺฉุงุฑุจุฑ ุชุฑุฌูู ูโฺฉูุฏ. ูพุณ ุงุฒ ุฏุฑุงูุช ูุชุฌูุ ุฑุจุงุช ูพุงู ููุง ุฑุง ุดุงูู ุชุฑุฌููุ ุฒุจุงู ูุจุฏุง ู ููุตุฏุ ุฎูุฏ ูุชู ู ุชูุถุญุงุช ุงุถุงูุ ุจุฑุง ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโฺฉูุฏ. ุฏุฑ ุตูุฑุช ูุฑฺฏููู ุฎุทุงุ ูพุงู ุฎุทุง ุจู ฺฉุงุฑุจุฑ ุฏุงุฏู ูโุดูุฏ ู ุงู ุฎุทุงุ ุฏุฑ ฺฉูุณูู ุซุจุช ูโุดูุฏ. 
<div className="h-3" />


ถ. ุฏุฑ ูพุงุงู ูุฑ ูุฑุงูุฏ ุชุฑุฌููุ ูุถุนุช ฺฉุงุฑุจุฑ ูุฌุฏุฏุงู ุจู <Important>idle</Important> ุชุบุฑ ูพุฏุงโ ูโฺฉูุฏ ุชุง ฺฉุงุฑุจุฑ ุจุชูุงูุฏ ุฏูุจุงุฑู ุงุฒ ุฏุณุชูุฑุงุช ุฑุจุงุช ุงุณุชูุงุฏู ฺฉูุฏ.


<Section id='translator-function' title='ุฑุจุงุช ูุชุฑุฌู' />
ุงฺฉููู ุจุงุฏ ุจุจูู 
ุฏุฑ ูุฑ ุงุฑุณุงู ุฏุฑุฎูุงุณุช ุฑุจุงุช ุชูฺฏุฑุงู ุจู ูุฏูุ ฺู ุงุชูุงู ูโุงูุชุฏ. ูุงู <Important>translator.ts</Important> ูุณุฆูู ุงุฑุชุจุงุท ุจุง LLM ุงุณุช. ูุทุนู ฺฉุฏ ุงู ูุงูุ ุฏุฑ ุงุฏุงููุ ูุฑุงุฑ ฺฏุฑูุชู ุงุณุช: 

<div className="h-2" />
<div dir='ltr'>
    <Highlight className="js">
        {`import { generateText, generateObject } from 'ai';
import { createOpenAI } from '@ai-sdk/openai';
import { z } from 'zod';
import dotenv from 'dotenv';

dotenv.config();

const my_model = createOpenAI({
  baseURL: process.env.BASE_URL!,
  apiKey: process.env.LIARA_API_KEY!,
});

const translationSchema = z.object({
  translation: z.object({
    text_language: z.string(),
    text_to_translate: z.string(),
    target_language: z.string(),
    accurate_translated_text: z.string(),
    explanations_related_to_translation_in_target_language: z.string(),
  }),
});

export async function translateWithFeedback(text: string, targetLanguage: string) {
  let currentTranslation = '';
  let currentObjectTranslation = { translation: {
    text_language: '',
    text_to_translate: text,
    target_language: targetLanguage,
    accurate_translated_text: '',
    explanations_related_to_translation_in_target_language: '',
  }};
  let iterations = 0;
  const MAX_ITERATIONS = 3;

  const { object: firstTranslation } = await generateObject({
    model: my_model('openai/gpt-4o-mini'),
    system: \`You are an expert literary translator.
    You Do not censor any content in the translation and provide the correct and accurate text.\`,
      prompt: \`Translate this text to \${targetLanguage}, preserving tone and cultural nuances:\\n\\n\${text}\`,
    schema: translationSchema,
  });

  currentTranslation = firstTranslation.translation.accurate_translated_text;
  currentObjectTranslation = firstTranslation as {
    translation: {
      text_language: string;
      text_to_translate: string;
      target_language: string;
      accurate_translated_text: string;
      explanations_related_to_translation_in_target_language: string;
    };
  };

  while (iterations < MAX_ITERATIONS) {
    const { object: evaluation } = await generateObject({
      model: my_model('openai/gpt-4.1-mini'),
      schema: z.object({
        qualityScore: z.number().min(1).max(10),
        preservesTone: z.boolean(),
        preservesNuance: z.boolean(),
        culturallyAccurate: z.boolean(),
        specificIssues: z.array(z.string()),
        improvementSuggestions: z.array(z.string()),
      }),
      system: 'You are an expert in evaluating literary translations.',
      prompt: \`Evaluate this translation:\\n\\nOriginal: \${text}\\nTranslation: \${currentTranslation}\\n\\nConsider:\\n1. Overall quality\\n2. Preservation of tone\\n3. Preservation of nuance\\n4. Cultural accuracy\`,
    });

    if (
      evaluation.qualityScore >= 8 &&
      evaluation.preservesTone &&
      evaluation.preservesNuance &&
      evaluation.culturallyAccurate
    ) {
      break;
    }

    const { object: improvedTranslation } = await generateObject({
      model: my_model('openai/gpt-4.1'),
      system: 'You are an expert literary translator.',
      prompt: \`Improve this translation based on the following feedback:\\n\\n\${evaluation.specificIssues.join('\\n')}\\n\\n\${evaluation.improvementSuggestions.join('\\n')}\\n\\nOriginal: \${text}\\nCurrent Translation: \${currentTranslation}\`,
      schema: translationSchema,
    });

    currentTranslation = improvedTranslation.translation.accurate_translated_text;
    currentObjectTranslation = improvedTranslation as {
      translation: {
        text_language: string;
        text_to_translate: string;
        target_language: string;
        accurate_translated_text: string;
        explanations_related_to_translation_in_target_language: string;
      };
    };
    iterations++;
  }

  return {
    currentObjectTranslation,
    iterations,
  };
}
`}
    </Highlight>
</div>
<div className="h-4" />

ุฏุฑ ูุทุนู ฺฉุฏ ููู: 
<div className="h-4" />

ฑ. ฺฉ instance ุงุฒ <Important>createOpenAI</Important> ุจุฑุง ุงุชุตุงู ุจู ูุฏูุ ุณุงุฎุชู ุดุฏู ุงุณุช. ุฏุฑ ุงู instanceุ ุงุฒ <Important>baseUrl</Important> ุณุฑูุณ ููุด ูุตููุน ูุงุฑุง ู ฺฉูุฏ API ฺฉูุณูู ูุงุฑุง ุงุณุชูุงุฏู ุดุฏู ุงุณุช.
<div className="h-3" />
ฒ. ุฏุฑ ุชุงุจุน ุงุตูุ ูุชู ุงุตู ุจู ููุฑุงู ุฒุจุงู ููุตุฏ ุจู ูุฏู <Important>openai/gpt-4o-mini</Important> ุฏุงุฏู ูโุดูุฏ ู ุงุฒ ูุฏู ุฎูุงุณุชู ูโุดูุฏ ุชุง ุฏุฑ Schema ูุดุฎุต ุดุฏูุ ุฎุฑูุฌ ุฑุง ุจุฑฺฏุฑุฏุงูุฏ. 
<div className="h-3" />
ณ. ุฎุฑูุฌ ูุฏูุ ุจู ูุฏู ููโุชุฑ ุงุฒ ุฎูุฏุดุ ุนู <Important>openai/gpt-4.1-mini</Important> ุฏุงุฏู ูโุดูุฏ ู ุงุฒ ุงู LLMุ ุฏุฑุฎูุงุณุช ูโุดูุฏ ุชุง ุจุง ุชูุฌู ุจู ูุนุงุฑูุง ุงุฑุฒุงุจ ุชุนุฑู ุดุฏู ุฏุฑ Schemaุ ุฎุฑูุฌ LLM ูุจู ุฑุง ุงุฑุฒุงุจ ฺฉูุฏ.
<div className="h-3" />
ด. ุฏุฑ ุตูุฑุช ฺฉู ููุงุฏุฑ ุงุฑุฒุงุจ LLM ุฏูู ูุงุจู ูุจูู ุจุงุดูุฏุ ููุฏุงุฑ ุฎุฑูุฌุ ุจู ุจุฑูุงูู ุงุตูุ <Important>return</Important> ูโุดูุฏ. ุฏุฑ ุบุฑ ุงูโุตูุฑุชุ ูุฌุฏุฏุงู ุงุฒ ูุฏู ููโุชุฑ ูุณุจุช ุจู LLM ุงูู (ูุซูุงู <Important>openai/gpt-4.1</Important>)ุ ุฏุฑุฎูุงุณุช ูโุดูุฏ ฺฉู ุนููุงุช ุชุฑุฌูู ุฑุง ุงูุฌุงู ุฏูุฏ.
<div className="h-3" />
ต. ุนููุงุช ุงุฑุฒุงุจ LLM ุณููุ ูุฌุฏุฏุงู ุชูุณุท LLM ุฏููุ ุงูุฌุงู ูโุดูุฏ ู ุงู ฺุฑุฎู ุชุฑุฌูู ู ุงุฑุฒุงุจ ุขูุ ุชุง ุฒูุงู ฺฉู ููุงุฏุฑ ุงุฑุฒุงุจ ููุฑุฏ ูุจูู ูุงูุน ูุดููุฏ ุง ููุฏุงุฑ ูุชุบุฑ <Important>iteration</Important>ุ ุงุฒ ููุฏุงุฑ <Important>MAX_ITERATIONS</Important> ฺฉูุชุฑ ุจุงุดุฏุ ุงุฏุงูู ุฎูุงูุฏ ุฏุงุดุช. 

<hr className="mb-2" />
<Section id='how-it-works' title='ูุญููโ ุนููฺฉุฑุฏ' />

ุฒูุงู ฺฉู ฺฉ ฺฉุงุฑุจุฑ ุจุง ุฑุจุงุช ุชูฺฏุฑุงู ุดูุง ุชุนุงูู ุจุฑูุฑุงุฑ ูโฺฉูุฏ:

<div className="h-2" />
ฑ. ุจุง ุงุฑุณุงู <Important>start/</Important>ุ ุฑุจุงุช ุถูู ุฎูุดโุขูุฏฺฏูุ ฺฏุฒููโูุง ููฺฉู ฺฉุงุฑ ุจุง ุฑุจุงุช ุฑุง ุงุฑุงุฆู ูโุฏูุฏ.

<div className="h-1" />

ฒ. ฺฉุงุฑุจุฑ ูโุชูุงูุฏ ฺฉ ุงุฒ ฺฏุฒููโูุง <Important>translate/</Important> ุง <Important>help/</Important> ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ. ุฏุฑ ุบุฑ ุงูโุตูุฑุชุ ุฑุจุงุช ุฌูุงุจ ูุฎูุงูุฏ ูุฑุณุชุงุฏ.
<div className="h-1" />

ณ. ุจุง ุงูุชุฎุงุจ <Important>help/</Important> ุฑุงูููุง ุงุณุชูุงุฏู ุงุฒ ุฑุจุงุช ุจู ฺฉุงุฑุจุฑ ููุงุด ุฏุงุฏู ูโุดูุฏ.
<div className="h-1" />

ด. ุจุง ุงูุชุฎุงุจ <Important>translate/</Important>ุ ุฑุจุงุช ุงุฒ ฺฉุงุฑุจุฑ ูโุฎูุงูุฏ ฺฉู ูุชู ุฎูุฏ ุฑุง ุงุฑุณุงู ฺฉูุฏ.
<div className="h-2" />

ต. ูพุณ ุงุฒ ุงุฑุณุงู ูุชูุ ุฑุจุงุช ุงุฒ ฺฉุงุฑุจุฑ ูโุฎูุงูุฏ ุฒุจุงู ููุตุฏ ุฑุง ุงุฑุณุงู ฺฉูุฏ.
<div className="h-2" />

ถ. ูพุณ ุงุฒ ุงุฑุณุงู ุฒุจุงู ููุตุฏุ ุฑุจุงุช ูพุงู ุงูุชุธุงุฑ ุฑุง ุจู ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโฺฉูุฏ ู ุจุนุฏ ุงุฒ ูุฏุชุ ูุชู ุชุฑุฌูู ุฑุง ุจู ููุฑุงู ุชูุถุญุงุช ุฏฺฏุฑุ ุจู ฺฉุงุฑุจุฑ ุงุฑุณุงู ูโฺฉูุฏ.
<hr className="mb-2" />

<Section id='deploying-the-app' title='ุณุงุฎุช ู ุงุณุชูุฑุงุฑ ุจุฑูุงูู' />

ุงฺฉูููุ ููุจุช ุงุณุชูุฑุงุฑ ุจุฑูุงูู ุฏุฑ ูุงุฑุง ุงุณุช. ูุฑุงุญู ุฒุฑ ุฑุง ุฏูุจุงู ฺฉูุฏ: 

<Step  steps={[
{
  step: "ฑ",
  content: (
  <>
    <h3>ูุตุจ Liara CLI</h3>
    <p>ุชุฑููุงู ุฑุง ุจุงุฒ ฺฉูุฏ ู ุจุง ุงุฌุฑุง ุฏุณุชูุฑ ุฒุฑุ ุงุจุฒุงุฑ Liara CLI ุฑุง ุจุฑ ุฑู ุณุณุชู ุฎูุฏ ูุตุจ ฺฉูุฏ:</p>
    <div dir='ltr'>
      <Highlight className="bash">
        {`npm install -g @liara/cli`}
      </Highlight>
    </div>
  </>
  )
  },
  {
  step: "ฒ",
  content: (
  <>
    <h3>ูุงฺฏู ุจู ุญุณุงุจ ฺฉุงุฑุจุฑ</h3>
    <p>ุจุง ุงุฌุฑุง ุฏุณุชูุฑ ุฒุฑุ ูุงุฑุฏ ุญุณุงุจ ฺฉุงุฑุจุฑ ุฎูุฏ ุฏุฑ ูุงุฑุงุ ุดูุฏ:</p>
    <div dir='ltr'>
      <Highlight className="bash">
        {`liara login`}
      </Highlight>
    </div>
  </>
  )
  },
  {
  step: "ณ",
  content: (
  <>
    <h3>ุงุฌุงุฏ ุจุฑูุงูู</h3>
    <p>ุจุง ุงุฌุฑุง ุฏุณุชูุฑ ุฒุฑุ ุจุฑูุงูู NodeJS ุฎูุฏ ุฑุง ุงุฌุงุฏ ฺฉูุฏ:</p>
    <div dir='ltr'>
    <Highlight className="bash">
      {`liara create`}
    </Highlight>
    </div>
    <div className="h-2" />
  </>
  )
  },
  {
  step: "ด",
  content: (
  <>
    <h3>ุชูุธู ูุชุบุฑูุง ูุญุท</h3>
    <p>
      ุทุจู <a href="/paas/details/envs/#add-envs" className="text-[#2196f3]">ูุณุชูุฏุงุช ุชูุธู ูุชุบุฑูุง ูุญุท</a>ุ ูุชุบุฑูุง ุฒุฑ ุฑุง ุจุง ููุฏุงุฑ ูุงูุนโุดุงูุ ุจู ุจุฑูุงูู ุฎูุฏ ุงุถุงูู ฺฉูุฏ: 

    </p>
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="json">
      {`TELEGRAM_BOT_TOKEN=xxxxxxxxx
LIARA_API_KEY=xxxxxxxxx
BASE_URL=xxxxxxxxx
`}
    </Highlight>
    </div>
  </>
  )
  },
  {
  step: "ต",
  content: (
  <>
    <h3>ุงุณุชูุฑุงุฑ ุจุฑูุงูู</h3>
    <p>ุจุง ุงุฌุฑุง ุฏุณุชูุฑ ุฒุฑ ุฏุฑ ูุณุฑ ุงุตู ูพุฑูฺูุ ุจุฑูุงูู ุฎูุฏ ุฑุง  ุฏุฑ ูุงุฑุง ูุณุชูุฑ ฺฉูุฏ (ููุฏุงุฑ port ุงููุช ูุฏุงุฑุฏ):</p>
    <div className="h-2" />
    <div dir='ltr'>
    <Highlight className="bash">
      {`liara deploy --platform=node --port=3000`}
    </Highlight>
    </div>
  </>
  )
  },

]}
/>

<div className="h-2" />

ุฏุฑ ููุงุชุ ูุงุฑุฏ ุฑุจุงุช ุชูฺฏุฑุงู ุฎูุฏ ุดูุฏ ู ุฑุจุงุช ุฑุง ุจุง ุงุฑุณุงู ฺฉ ูพุงูุ ุชุณุช ฺฉูุฏ. 
    
<div className="h-2" />  
<img src="https://media.liara.ir/ai/ai-sdk/cookbook/translator-telegrambot/use-translator-bot.png" alt="use translator bot in telegram"/>
<hr className="mb-2" />

<Section id="next-steps" title="ฺฏุงูโูุง ุจุนุฏ" />

ุดูุง ฺฉ ุฑุจุงุช ุชูฺฏุฑุงู ุณุงุฎุชูโุงุฏ ฺฉู ุชูุณุท AI SDK ูพุดุชุจุงู ูโุดูุฏ! ุฏุฑ ุงุฏุงูู ุจุฑุฎ ุฑุงูโูุง ุชูุณุนูโ ุขู ุขูุฑุฏู ุดุฏู ุงุณุช:

<div className="h-2" />  
<ul>
<li>ูพุงุฏูโุณุงุฒ ูุฏุฑุช ุชุนุงูู ุฏุฑ ุตูุฑุช ุงุฑุณุงู ุฏุณุชูุฑ ูุงูุฑุชุจุท</li>
<li>ูพุงุฏูโุณุงุฒ ูุงุจูุช ุงุฑุณุงู ุนฺฉุณ ู ูุทุงูุนู ูุญุชูุง ุขู ู ุชุฑุฌูู ูุญุชูุง</li>
<li>ุงุถุงููโฺฉุฑุฏู ูุฏูโูุง ุจุดุชุฑ ุจู ููุทู AI ุจุฑูุงูู ุจุฑุง ุชุฑุฌูู ู ุงุฑุฒุงุจ ุฏููโุชุฑ</li>
</ul>
<div className="h-4" />

</Layout>