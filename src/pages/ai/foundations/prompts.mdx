import Layout from "@/components/Layout";
import Button from "@/components/Common/button";
import Section from "@/components/Common/section";
import Alert from "@/components/Common/alert";
import ThemePlatformIcon from "@/components/Common/themeIcons"
import Tabs from "@/components/Common/tab";
import Step from "@/components/Common/step";
import Card from "@/components/Common/card";
import Important from "@/components/Common/important";
import Highlight from "@/components/Common/highlight";
import Link from "next/link";
import PlatformIcon from "@/components/Common/icons";
import HighlightTabs from "@/components/Common/HighlightTabs";
import IconContainer from "@/components/Common/IconContainer";
import {
  GoContainer,
  GoDatabase,
  GoRocket,
  GoServer,
  GoMail,
  GoGlobe,
  GoArrowLeft,
  GoTelescope,
} from "react-icons/go";

import Head from "next/head";

<Layout>
<Head>
<title>مستندات ورودی ها (پرامپت ها) - لیارا</title>
<meta property="og:title" content="مستندات خدمات رایانش ابری لیارا" />
<meta property="og:description" content="مستندات مربوط به آشنایی با ورودی ها (پرامپت ها) در سرویس هوش مصنوعی لیارا، ویژگی‌ها و امکانات آن"  />
</Head>


# ورودی‌ها (پرامپت‌ها) در هوش مصنوعی
<hr className="mb-2" />

پرامپت‌ها دستوراتی هستند که شما به یک مدل زبانی بزرگ (LLM) می‌دهید تا به آن بگویید چه کاری انجام دهد. این فرآیند شبیه زمانی است که از کسی سوالی می‌پرسید؛ هرچه سؤال شما واضح‌تر باشد، پاسخ دقیق‌تری دریافت خواهید کرد.
<div className="h-2" />
بسیاری از ارائه‌دهندگان مدل‌های هوش مصنوعی، از جمله OpenAI، یک‌سری راه‌‌حل برای تعریف پرامپت‌ها به شما ارائه 
می‌دهند. این واسط‌ها، شامل نقش‌های مختلف و پیام‌های متفاوت هستند. در ادامه، نحوه تعریف و کار با پرامپت‌ها در سرویس هوش مصنوعی لیارا، هم با <Important>OpenAI SDK</Important> و هم با <Important>AI SDK</Important> بررسی شده است.


<Section id='text-prompt' title='پرامپت متنی (Text Prompt)' />

پرامپت‌های متنی، رشته‌های متنی هستند. این نوع پرامپت‌ها، برای تولید محتوای ساده، مورد استفاده قرار می‌گیرند.

<Tabs 
  tabs={["OpenAI SDK", "AI SDK"]} 
  content={[
    <>
        برای استفاده از پرامپت‌های متنی با OpenAI SDK، می‌توانید از کدها و دستورات زیر استفاده کنید:
        <HighlightTabs
            tabs={[
                {
                label: "cURL",
                language: "bash",
                code: `curl <baseUrl>/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer <LIARA_API_KEY>" \\
  -d '{
  "model": "<modelName>",
  "messages": [
    {"role": "user", "content": "Hello!"}
  ]
}'`,
                description: (
                  <>
                    <div dir="rtl">
                      <p>
                        در دستور فوق، مقدار فیلد <Important>content</Important>، پرامپت متنی شما است که می‌توانید بنا به نیاز خود، آن را تغییر دهید.
                      </p>
                    </div>
                  </>
                ),
                },
                {
                label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
                language: "javascript",
                code: `// npm install openai
                
const OpenAI = require('openai');

const openai = new OpenAI({
  baseURL: '<baseUrl>',
  apiKey: '<LIARA_API_KEY>',
});

async function main() {
  const completion = await openai.chat.completions.create({
    model: '<model_name>',
    messages: [
      {
        role: 'user',
        content: 'Hello!',
      },
    ],
  });

  console.log(completion.choices[0].message);
}

main();`,
                description: (
                  <div dir="rtl">
                  <p>
                    در کد فوق، مقدار فیلد <Important>content</Important>، پرامپت متنی شما است که می‌توانید بنا به نیاز خود، آن را تغییر دهید.
                  </p>
                  </div>
                ),
                },
                {
                label: "PHP",
                icon: <PlatformIcon platform="php" style={{ width: 32, height: 32 }} />,
                language: "php",
                code: `<!-- composer require openai-php/client guzzlehttp/guzzle -->

<?php

require 'vendor/autoload.php';

use OpenAI\\Client;
use OpenAI\\Laravel\\Facades\\OpenAI;
use OpenAI\\Contracts\\ResponseContracts\\Chat\\CreateResponse;

$yourApiKey = '<LIARA_API_KEY>'; 
$baseUrl = '<baseUrl>'; 
$model = '<model_name>'; 

// Create the OpenAI client
$client = \\OpenAI::factory()
    ->withApiKey($yourApiKey)
    ->withBaseUri($baseUrl)
    ->make();

// Send a chat completion request
$result = $client->chat()->create([
    'model' => $model,
    'messages' => [
        ['role' => 'user', 'content' => 'I love U Bro!'],
    ],
]);

// Print the response
echo $result->choices[0]->message->content;

`,
                description: (
                  <div dir="rtl">
                  <p>
                    در قطعه کد فوق، مقدار فیلد <Important>content</Important>، پرامپت متنی شما است که می‌توانید بنا به نیاز خود، آن را تغییر دهید.
                  </p>
                  </div>
                ),
                },
                {
                label: "Python",
                icon: <PlatformIcon platform="python" style={{ width: 32, height: 32 }} />,
                language: "python",
                code: `# pip install openai
                
from openai import OpenAI

client = OpenAI(
  base_url="<baseUrl>",
  api_key="<LIARA_API_KEY>",
)

completion = client.chat.completions.create(
  model="<model_name>",
  messages=[
    {
      "role": "user",
      "content": 'Hello!'
    }
  ]
)

print(completion.choices[0].message.content)`,
                },
                {
                label: "NET.",
                icon: <PlatformIcon platform="dotnet" style={{ width: 32, height: 32 }} />,
                language: "dotnet",
                code: `// dotnet add package OpenAI
                
using System.ClientModel;
using OpenAI;
using OpenAI.Chat;

class Program
{
    static void Main()
    {
        string apiKey = "<LIARA_API_KEY>";
        
        string baseUrl = "<baseUrl>";
        
        OpenAIClientOptions options = new OpenAIClientOptions
        {
            Endpoint = new Uri(baseUrl)
        };

        ChatClient client = new(model: "<model_name>", credential: new ApiKeyCredential(apiKey), options: options);

        ChatCompletion completion = client.CompleteChat("Hello!");

        Console.WriteLine($"[ASSISTANT]: {completion.Content[0].Text}");
    }
}`,
                description: (
                  <div dir="rtl">
                  <p>
                    در کد فوق، ورودی متد <Important>client.CompleteChat</Important>، پرامپت متنی شما است که می‌توانید بنا به نیاز خود، آن را تغییر دهید.
                  </p>
                  </div>
                ),
                },
                {
                label: "Go",
                icon: <PlatformIcon platform="go" style={{ width: 32, height: 32 }} />,
                language: "go",
                code: `// go get github.com/openai/openai-go
// go get github.com/openai/openai-go/option
                
package main

import (
	"context"
	"fmt"

	"github.com/openai/openai-go"
	"github.com/openai/openai-go/option"
)

func main() {
	const model = "<model_name>" 

	
	client := openai.NewClient(
		option.WithAPIKey("<LIARA_API_KEY>"),
		option.WithBaseURL("<baseUrl>"),       
	)

	chatCompletion, err := client.Chat.Completions.New(context.TODO(), openai.ChatCompletionNewParams{
		Messages: []openai.ChatCompletionMessageParamUnion{
			openai.UserMessage("Hello!"),          
		},
		Model: model,                                           
	})
	if err != nil {
		panic(err.Error())          
	}

	fmt.Println("Model Response:", chatCompletion.Choices[0].Message.Content)
}`,
                description: (
                  <div dir="rtl">
                  <p>
                    در دستور فوق، ورودی متد <Important>openai.UserMessage</Important>، پرامپت متنی شما است که می‌توانید بنا به نیاز خود، آن را تغییر دهید.
                  </p>
                  </div>
                ),
                },
            ]}
        />
        <div className="h-4" />
        <p>
        در قطعه کد‌های فوق، به‌جای <Important>&lt;baseUrl&gt;</Important>، آدرس سرویس هوش مصنوعی خود را قرار دهید و به‌جای <Important>&lt;LIARA_API_KEY&gt;</Important>، کلید API خود را وارد کنید. همچنین، به‌جای <Important>&lt;model_name&gt;</Important>، نام یکی از مدل‌های خود را قرار دهید.
        </p>
    </>,

    <>
    <p>
    برای استفاده از پرامپت‌های متنی با استفاده از AI SDK، می‌توانید از کدهای جاوااسکریپت زیر، استفاده کنید.
    فیلد <Important>prompt</Important>، فیلدی است که پرامپت متنی شما را مشخص می‌کند:
    </p>

    <HighlightTabs
        tabs={[
            {
            label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
            language: "javascript",
            code: `// npm i @ai-sdk/openai-compatible
import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';

const { text } = await generateText({
  model: createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL,
    name: 'example',
    apiKey: process.env.MY_API_KEY,
  }).chatModel("openai/gpt-4o-mini"),
  
  
  prompt: 'hey.',

});

console.log('Generated Text:', text);
`,
            },
            {
            label: "TypeScript",
            icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
            language: "typescript",
            code: `// npm i @ai-sdk/openai-compatible
import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';

async function main() {
  const model = createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL as string,
    name: 'example',
    apiKey: process.env.MY_API_KEY as string,
  }).chatModel("openai/gpt-4o-mini");

  const { text } = await generateText({
    model,


    prompt: 'hey.',

  });

  console.log('Generated Text:', text);
}

main().catch(console.error);
`,
            },
        ]}
    />
    
    <br />
    <p>
      همچنین، می‌توانید از template literalها برای تعریف پرامپت‌های متنی استفاده کنید تا امکان استفاده از متغیرها و رشته‌های چندخطی را داشته باشید. به‌عنوان مثال:
    </p>
    
    <HighlightTabs
        tabs={[
            {
            label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
            language: "javascript",
            code: `import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';

const destination = "Paris";
const lengthOfStay = 5;


const { text } = await generateText({
  model: createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL,
    name: 'example',
    apiKey: process.env.MY_API_KEY,
  }).chatModel("openai/gpt-4o-mini"),


  prompt: \`I am planning a trip to \${destination} for \${lengthOfStay} days. \` +
    \`Please suggest the best tourist activities for me to do.\`,

});

console.log('Generated Text:', text);
`,
            },
            {
            label: "TypeScript",
            icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
            language: "typescript",
            code: `import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';

const destination = "Paris";
const lengthOfStay = 5;

async function main() {
  const model = createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL as string,
    name: 'example',
    apiKey: process.env.MY_API_KEY as string,
  }).chatModel("openai/gpt-4o-mini");

  const { text } = await generateText({
    model,
    prompt:
      \`I am planning a trip to \${destination} for \${lengthOfStay} days. \` +
      \`Please suggest the best tourist activities for me to do.\`,
  });

  console.log('Generated Text:', text);
}

main().catch(console.error);
`,
            },
        ]}
    />
    
    
    
    </>

    

  ]}

/>

<Section id='system-prompt' title='پرامپت سیستمی' />

پرامپت‌های سیستمی مجموعه‌ای از دستورالعمل‌های اولیه هستند که به مدل‌ها داده می‌شوند تا رفتارها و پاسخ‌های آن‌ها را هدایت و محدود کنند. این نوع از پرامپت‌ها به مدل کمک می‌کنند تا در یک چارچوب خاص عمل کند یا لحن و نقش مشخصی را ایفا نماید.

<div className="h-2" />



<Tabs 
  tabs={["AI SDK"]} 
  content={[
    <>
      شما می‌توانید به شکل زیر، پرامپت‌های سیستمی را در برنامه خود تعریف کنید.

    <HighlightTabs
        tabs={[
            {
            label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
            language: "javascript",
            code: `// npm i @ai-sdk/openai-compatible
import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';

const destination = "Paris";
const lengthOfStay = 5;


const { text } = await generateText({
  model: createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL,
    name: 'example',
    apiKey: process.env.MY_API_KEY,
  }).chatModel("openai/gpt-4o-mini"),

  system:
    \`You help planning travel itineraries. \` +
    \`Respond to the users' request with a list \` +
    \`of the best stops to make in their destination.\`,

  prompt: \`I am planning a trip to \${destination} for \${lengthOfStay} days. \` +
    \`Please suggest the best tourist activities for me to do.\`,

});

console.log('Generated Text:', text);
`,
            },
            {
            label: "TypeScript",
            icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
            language: "typescript",
            code: `import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
// import { config } from 'dotenv';
// config();

const destination = "Paris";
const lengthOfStay = 5;

async function main() {
  const model = createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL as string,
    name: 'example',
    apiKey: process.env.MY_API_KEY as string,
  }).chatModel("openai/gpt-4o-mini");

  const { text } = await generateText({
    model,

    
    system:
      \`You help planning travel itineraries. \` +
      \`Respond to the users' request with a list \` +
      \`of the best stops to make in their destination.\`,

    prompt:
      \`I am planning a trip to \${destination} for \${lengthOfStay} days. \` +
      \`Please suggest the best tourist activities for me to do.\`,
  });

  console.log('Generated Text:', text);
}

main().catch(console.error);
`,
            },
        ]}
    />
    <br />
    <p>
        در قطعه کدهای فوق، مقدار فیلد <Important>system</Important>، پرامپت سیستمی شما است که می‌توانید بنا به نیاز خود، آن را تغییر دهید.
    </p>
    </>


  ]}
/>


<Section id='message-prompt' title='پرامپت‌های پیام‌محور' />

پرامپت پیام‌محور، آرایه‌ای از پیام‌ها است 
که هر پیام دارای نقش مشخصی مانند <Important>user</Important> (کاربر)، <Important>assistant</Important> (دستیار)، یا <Important>tool</Important> (ابزار) است. این نوع پرامپت‌ها برای چت‌بات‌ها و پرامپت‌های پیچیده‌تر و چندوجهی (multi-modal) بسیار مناسب‌اند.

<Tabs 
  tabs={["OpenAI SDK", "AI SDK"]} 
  content={[
    <>
        برای استفاده از پرامپت‌های پیام‌محور با OpenAI SDK، می‌توانید از کدها و دستورات زیر استفاده کنید:
        <HighlightTabs
            tabs={[
                {
                label: "cURL",
                language: "javascript",
                code: `curl <baseUrl>/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer <LIARA_API_KEY>" \\
  -d '{
  "model": "<modelName>",
  "messages": [
    {
            "role": "developer",
            "content": "Talk like a pirate."
    },
    {
            "role": "user",
            "content": "Are semicolons optional in JavaScript?"
    }

  ]
}'`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                        در دستور فوق، مقدار فیلد <Important>role</Important>، می‌تواند یکی از مقادیر زیر باشد (به ترتیب اولویت، نقش‌ها قرار گرفته‌اند):
                    </p>
                  
                    
                    <div className="h-2" />
                    <ul className="pr-4">
                      {[
                        {text: <p><Important>developer</Important> (توسعه‌دهنده): دستورالعمل‌هایی که توسط توسعه‌دهنده‌ی اپلیکیشن ارائه می‌شود.</p>},
                        {text: <p><Important>system</Important> (سیستم): تنظیم کلی رفتار مدل. لحن، سبک، دستورالعمل‌های کلی و نقش‌آفرینی.</p>},
                        {text: <p><Important>user</Important> (کاربر): ورودی که از سمت کاربر نهایی به مدل داده می‌شود.</p>},
                        {text: <p><Important>assistant</Important> (دستیار): نقش پاسخ‌دهنده مدل را دارد؛ یعنی پیام‌هایی که مدل تولید کرده با این نقش ذخیره می‌شوند.</p>},
                        {text: <p><Important>tool</Important> (ابزار): یک ابزار ثالت که باعث بهبود پاسخگویی مدل، می‌شود. </p>},
                      ].map((item, index) => (
                        <li
                          key={index}
                          style={{
                            textDecorationColor: "#9ca3af",
                            listStyle:"arabic-indic"
                          }}
                        >
                        {item.text}
                        </li>
                      ))}
                    </ul>

                    <div className="h-2" />
                    </div>

                  </>
                ),
                },
                {
                label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
                language: "javascript",
                code: `// npm install openai
                
const OpenAI = require('openai');
const { config } = require('dotenv');
config();

const openai = new OpenAI({
  baseURL: process.env.MY_BASE_URL,
  apiKey: process.env.MY_API_KEY,
});

async function main() {
  const completion = await openai.chat.completions.create({
    model: "openai/gpt-4o-mini",
    messages: [
        {
            role: "developer",
            content: "Talk like a pirate."
        },
        {
            role: "user",
            content: "Are semicolons optional in JavaScript?",
        },
    ],
  });

  console.log(completion.choices[0].message);
}

main();`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                        در دستور فوق، مقدار فیلد <Important>role</Important>، می‌تواند یکی از مقادیر زیر باشد (به ترتیب اولویت، نقش‌ها قرار گرفته‌اند):
                    </p>
                    
                    <div className="h-2" />
                    <ul className="pr-4">
                      {[
                        {text: <p><Important>developer</Important> (توسعه‌دهنده): دستورالعمل‌هایی که توسط توسعه‌دهنده‌ی اپلیکیشن ارائه می‌شود.</p>},
                        {text: <p><Important>system</Important> (سیستم): تنظیم کلی رفتار مدل. لحن، سبک، دستورالعمل‌های کلی و نقش‌آفرینی.</p>},
                        {text: <p><Important>user</Important> (کاربر): ورودی که از سمت کاربر نهایی به مدل داده می‌شود.</p>},
                        {text: <p><Important>assistant</Important> (دستیار): نقش پاسخ‌دهنده مدل را دارد؛ یعنی پیام‌هایی که مدل تولید کرده با این نقش ذخیره می‌شوند.</p>},
                        {text: <p><Important>tool</Important> (ابزار): یک ابزار ثالت که باعث بهبود پاسخگویی مدل، می‌شود. </p>},
                      ].map((item, index) => (
                        <li
                          key={index}
                          style={{
                            textDecorationColor: "#9ca3af",
                            listStyle:"arabic-indic"
                          }}
                        >
                        {item.text}
                        </li>
                      ))}
                    </ul>

                    <div className="h-2" />
                    </div>

                  </>
                ),
                },
                {
                label: "PHP",
                icon: <PlatformIcon platform="php" style={{ width: 32, height: 32 }} />,
                language: "php",
                code: `<!-- composer require openai-php/client guzzlehttp/guzzle -->

<?php

require 'vendor/autoload.php';

use OpenAI\\Client;
use OpenAI\\Laravel\\Facades\\OpenAI;
use OpenAI\\Contracts\\ResponseContracts\\Chat\\CreateResponse;

$yourApiKey = '<LIARA_API_KEY>'; 
$baseUrl = '<baseUrl>'; 
$model = '<model_name>'; 

// Create the OpenAI client
$client = \\OpenAI::factory()
    ->withApiKey($yourApiKey)
    ->withBaseUri($baseUrl)
    ->make();

// Send a chat completion request
$result = $client->chat()->create([
    'model' => $model,
    'messages' => [
        ['role' => 'developer', 'content' => 'Talk like a pirate.'],
        ['role' => 'user', 'content' => 'Are semicolons optional in JavaScript?'],
    ],
]);

// Print the response
echo $result->choices[0]->message->content;

`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                        در دستور فوق، مقدار فیلد <Important>role</Important>، می‌تواند یکی از مقادیر زیر باشد (به ترتیب اولویت، نقش‌ها قرار گرفته‌اند):
                    </p>
                    
                    <div className="h-2" />
                    <ul className="pr-4">
                      {[
                        {text: <p><Important>developer</Important> (توسعه‌دهنده): دستورالعمل‌هایی که توسط توسعه‌دهنده‌ی اپلیکیشن ارائه می‌شود.</p>},
                        {text: <p><Important>system</Important> (سیستم): تنظیم کلی رفتار مدل. لحن، سبک، دستورالعمل‌های کلی و نقش‌آفرینی.</p>},
                        {text: <p><Important>user</Important> (کاربر): ورودی که از سمت کاربر نهایی به مدل داده می‌شود.</p>},
                        {text: <p><Important>assistant</Important> (دستیار): نقش پاسخ‌دهنده مدل را دارد؛ یعنی پیام‌هایی که مدل تولید کرده با این نقش ذخیره می‌شوند.</p>},
                        {text: <p><Important>tool</Important> (ابزار): یک ابزار ثالت که باعث بهبود پاسخگویی مدل، می‌شود. </p>},
                      ].map((item, index) => (
                        <li
                          key={index}
                          style={{
                            textDecorationColor: "#9ca3af",
                            listStyle:"arabic-indic"
                          }}
                        >
                        {item.text}
                        </li>
                      ))}
                    </ul>

                    <div className="h-2" />

                  </div>
                  </>
                ),
                },
                {
                label: "Python",
                icon: <PlatformIcon platform="python" style={{ width: 32, height: 32 }} />,
                language: "python",
                code: `from openai import OpenAI

client = OpenAI(
  base_url="<baseUrl>",
  api_key="<LIARA_API_KEY>",
)

completion = client.chat.completions.create(
  model="openai/gpt-4o-mini",
  messages=[
    {
        "role": "developer",
        "content": "Talk like a pirate."
    },
    {
        "role": "user",
        "content": "Are semicolons optional in JavaScript?"
    }
  ]
)

print(completion.choices[0].message.content)`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                        در دستور فوق، مقدار فیلد <Important>role</Important>، می‌تواند یکی از مقادیر زیر باشد (به ترتیب اولویت، نقش‌ها قرار گرفته‌اند):
                    </p>
                    
                    <div className="h-2" />
                    <ul className="pr-4">
                      {[
                        {text: <p><Important>developer</Important> (توسعه‌دهنده): دستورالعمل‌هایی که توسط توسعه‌دهنده‌ی اپلیکیشن ارائه می‌شود.</p>},
                        {text: <p><Important>system</Important> (سیستم): تنظیم کلی رفتار مدل. لحن، سبک، دستورالعمل‌های کلی و نقش‌آفرینی.</p>},
                        {text: <p><Important>user</Important> (کاربر): ورودی که از سمت کاربر نهایی به مدل داده می‌شود.</p>},
                        {text: <p><Important>assistant</Important> (دستیار): نقش پاسخ‌دهنده مدل را دارد؛ یعنی پیام‌هایی که مدل تولید کرده با این نقش ذخیره می‌شوند.</p>},
                        {text: <p><Important>tool</Important> (ابزار): یک ابزار ثالت که باعث بهبود پاسخگویی مدل، می‌شود. </p>},
                      ].map((item, index) => (
                        <li
                          key={index}
                          style={{
                            textDecorationColor: "#9ca3af",
                            listStyle:"arabic-indic"
                          }}
                        >
                        {item.text}
                        </li>
                      ))}
                    </ul>

                    <div className="h-2" />
                </div>
                  </>
                ),
                },
                {
                label: "NET.",
                icon: <PlatformIcon platform="dotnet" style={{ width: 32, height: 32 }} />,
                language: "dotnet",
                code: `// dotnet add package OpenAI
                
using System.ClientModel;
using OpenAI;
using OpenAI.Chat;

class Program
{
    static void Main()
    {
    
        string apiKey = "<LIARA_API_KEY>";
        string baseUrl = "<baseUrl>";  
        OpenAIClientOptions options = new OpenAIClientOptions
        {
            Endpoint = new Uri(baseUrl)
        };

        ChatClient client = new(model: "<model_name>", credential: new ApiKeyCredential(apiKey), options: options);


        ChatCompletion completion = client.CompleteChat(
        [
            // System messages represent instructions or other guidance about how the assistant should behave
            new SystemChatMessage("You are a helpful assistant that talks like a pirate."),

            // User messages represent user input, whether historical or the most recent input
            new UserChatMessage("Hi, can you help me?"),

            // Assistant messages in a request represent conversation history for responses
            new AssistantChatMessage("Arrr! Of course, me hearty! What can I do for ye?"),

            new UserChatMessage("What's the best way to train a parrot?"),
        ]);

        Console.WriteLine($"{completion.Role}: {completion.Content[0].Text}");        
    }
}`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                        در دستور فوق، سه متد <Important>ChatClient</Important> تعریف شده است (به ترتیب اولویت، نقش‌ها قرار گرفته‌اند):
                    </p>
                    
                    <div className="h-2" />
                    <ul className="pr-4">
                      {[
                        {text: <p><Important>SystemChatMessage</Important> (سیستم): تنظیم کلی رفتار مدل. لحن، سبک، دستورالعمل‌های کلی و نقش‌آفرینی.</p>},
                        {text: <p><Important>UserChatMessage</Important> (کاربر): ورودی که از سمت کاربر نهایی به مدل داده می‌شود.</p>},
                        {text: <p><Important>AssistantChatMessage</Important> (دستیار): نقش پاسخ‌دهنده مدل را دارد؛ یعنی پیام‌هایی که مدل تولید کرده با این نقش ذخیره می‌شوند.</p>},
                      ].map((item, index) => (
                        <li
                          key={index}
                          style={{
                            textDecorationColor: "#9ca3af",
                            listStyle:"arabic-indic"
                          }}
                        >
                        {item.text}
                        </li>
                      ))}
                    </ul>

                    <div className="h-2" />
                  </div>
                  </>
                ),
                },
                {
                label: "Go",
                icon: <PlatformIcon platform="go" style={{ width: 32, height: 32 }} />,
                language: "go",
                code: `// go get github.com/openai/openai-go
// go get github.com/openai/openai-go/option
                
package main

import (
	"context"
	"fmt"

	"github.com/openai/openai-go"
	"github.com/openai/openai-go/option"
)

func main() {
	const model = "<model_name>"


	client := openai.NewClient(
		option.WithAPIKey("<LIARA_API_KEY>"),
		option.WithBaseURL("<baseUrl>"),       
	)

	chatCompletion, err := client.Chat.Completions.New(context.TODO(), openai.ChatCompletionNewParams{
		Messages: []openai.ChatCompletionMessageParamUnion{
			openai.DeveloperMessage("Talk like a pirate!"),
			openai.UserMessage("Are semicolons optional in JavaScript?"),          
		},
		Model: model,                                           
	})
	if err != nil {
		panic(err.Error())          
	}

	fmt.Println("Model Response:", chatCompletion.Choices[0].Message.Content)
}`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                        در دستور فوق، پنج متد برای نقش می‌توان تعریف کرد (به ترتیب اولویت، نقش‌ها قرار گرفته‌اند):
                    </p>
                    
                    <div className="h-2" />
                    <ul className="pr-4">
                      {[
                        {text: <p><Important>openai.DeveloperMessage</Important> (توسعه‌دهنده): دستورالعمل‌هایی که توسط توسعه‌دهنده‌ی اپلیکیشن ارائه می‌شود.</p>},
                        {text: <p><Important>openai.SystemMessage</Important> (سیستم): تنظیم کلی رفتار مدل. لحن، سبک، دستورالعمل‌های کلی و نقش‌آفرینی.</p>},
                        {text: <p><Important>openai.UserMessage</Important> (کاربر): ورودی که از سمت کاربر نهایی به مدل داده می‌شود.</p>},
                        {text: <p><Important>openai.AssistantMessage</Important> (دستیار): نقش پاسخ‌دهنده مدل را دارد؛ یعنی پیام‌هایی که مدل تولید کرده با این نقش ذخیره می‌شوند.</p>},
                        {text: <p><Important>openai.ToolMessage</Important> (ابزار): یک ابزار ثالت که باعث بهبود پاسخگویی مدل، می‌شود. </p>},
                      ].map((item, index) => (
                        <li
                          key={index}
                          style={{
                            textDecorationColor: "#9ca3af",
                            listStyle:"arabic-indic"
                          }}
                        >
                        {item.text}
                        </li>
                      ))}
                    </ul>

                    <div className="h-2" />
                  </div>
                  </>
                ),
                },
            ]}
        />

    </>,

    <>
    برای استفاده از پرامپت‌های متنی با استفاده از AI SDK، می‌توانید از کدهای جاوااسکریپت زیر، استفاده کنید:

    <HighlightTabs
        tabs={[
            {
            label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
            language: "javascript",
            code: `// npm i @ai-sdk/openai-compatible

import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';

const { text } = await generateText({
  model: createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL,
    name: 'example',
    apiKey: process.env.MY_API_KEY,
  }).chatModel("openai/gpt-4o-mini"),
  
  messages: [
    { role: 'user', content: 'Hi!' },
    { role: 'assistant', content: 'Hello, how can I help?' },
    { role: 'user', content: 'Where can I buy the best Ghormeh Sabzi in Iran?' },
  ],
});

console.log('Generated Text:', text);
`,
            },
             {
            label: "TypeScript",
            icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
            language: "typescript",
            code: `import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
// import { config } from 'dotenv';
// config();


async function main() {
  const model = createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL as string,
    name: 'example',
    apiKey: process.env.MY_API_KEY as string,
  }).chatModel("openai/gpt-4o-mini");

  const { text } = await generateText({
    model,

    messages: [
      { role: 'user', content: 'Hi!' },
      { role: 'assistant', content: 'Hello, how can I help?' },
      { role: 'user', content: 'Where can I buy the best Ghormeh Sabzi in Iran?' },
    ],


  });

  console.log('Generated Text:', text);
}

main().catch(console.error);
`,
            },
        ]}
    />
    <br />
    <p>
      در قطعه کد فوق، مقدار فیلد <Important>role</Important>، می‌تواند یکی از مقادیر زیر باشد (به ترتیب اولویت، نقش‌ها قرار گرفته‌اند):
    </p>

    <div className="h-2" />
    <ul className="pr-4">
      {[
        {text: <p><Important>system</Important> (سیستم): تعیین رفتار، شخصیت، سبک و محدودیت‌های مدل در طول پاسخ‌دهی.</p>},
        {text: <p><Important>data</Important> (اطلاعات زمینه‌ای): ارائه اطلاعات کمکی یا پایه‌ای به مدل، مثلاً نتایج یک API یا محتوای یک سند.</p>},
        {text: <p><Important>user</Important> (کاربر): ورودی که از سمت کاربر نهایی به مدل داده می‌شود.</p>},
        {text: <p><Important>assistant</Important> (دستیار): نقش پاسخ‌دهنده مدل را دارد؛ یعنی پیام‌هایی که مدل تولید کرده با این نقش ذخیره می‌شوند.</p>},
      ].map((item, index) => (
        <li
          key={index}
          style={{
            textDecorationColor: "#9ca3af",
            listStyle:"arabic-indic"
          }}
        >
        {item.text}
        </li>
      ))}
    </ul>

    <div className="h-2" />
    </>

  ]}

/>

<Alert variant="warning">
<p>
در نظر داشته باشید که در دستورات فوق، بیش از یک پیام در یک زمان، به مدل ارسال می‌شود و ممکن است که همه مدل‌های زبانی از roleهای مختلف و چند محتوایی، پشتیبانی نکنند. 
</p>
</Alert>


<Section id='user-prompt-types' title='انواع پرامپت‌ها با نقش کاربر (user)' />

در ادامه، تمامی پرامپت‌هایی که یک مدل با نقش <Important>user</Important> می‌تواند دریافت کند، توضیح داده شده است.

<div className="h-4" />
<h3>۱. پرامپت متنی ساده</h3>
<div className="h-2" />

<p>
رایج ترین پرامپت با نقش <Important>user</Important> که یک رشته متنی ساده است که 
در بخش <a href="/ai/foundations/prompts/#text-prompt" className='text-[#2196f3]'>پرامپت متنی</a> توضیح داده شده است.
</p>

<Section id="text-prompt-with-image-input" title="۲. پرامپت متنی به همراه عکس" headingTag="h3"/>


شما می‌توانید در یک ورودی به مدل، همزمان از متن و عکس استفاده کنید. به عنوان مثال، می‌توانید از یک عکس به عنوان ورودی استفاده کنید و از مدل بخواهید که در مورد آن عکس توضیح دهد یا سوالاتی را پاسخ دهد.

<Tabs 
  tabs={["OpenAI SDK", "AI SDK"]} 
  content={[
    <>
        برای استفاده از پرامپت‌های متنی همراه با عکس در OpenAI SDK، می‌توانید از کدها و دستورات زیر استفاده کنید:
        <HighlightTabs
            tabs={[
                {
                label: "cURL",
                language: "bash",
                code: `curl <baseUrl>/chat/completions \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer <LIARA_API_KEY>" \\
  -d '{
  "model": "<modelName>",
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "Describe the image in detail."
        },
        {
          "type": "image_url",
          "image_url": {
            "url": "https://media.liara.ir/ai/dog.png"
          }
        }
      ]
    }

  ]
}'
`,
                description: (
                  <>

                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، فیلد <Important>image_url.url</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد یا می‌تواند بر پایه فرمت Base64 باشد. 
                    </p>
                  </div>
                  </>
                ),
                },
                {
                label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
                language: "javascript",
                code: `// npm install openai
                
const OpenAI = require('openai');
// const { config } = require('dotenv');
// config();

const openai = new OpenAI({
  baseURL: process.env.MY_BASE_URL,
  apiKey: process.env.MY_API_KEY,
});

async function main() {
  const completion = await openai.chat.completions.create({
    model: "openai/gpt-4o-mini",
    messages: [
        {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "Describe the images in detail."
        },
        {
          "type": "image_url",
          "image_url": {"url": "https://media.liara.ir/ai/dog.png"}
        }
      ]
    }
    ],
  });

  console.log(completion.choices[0].message);
}

main();`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، فیلد <Important>image_url.url</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد یا می‌تواند بر پایه فرمت Base64 باشد. 
                    </p>
                  </div>
                  </>
                ),
                },
                {
                label: "PHP",
                icon: <PlatformIcon platform="php" style={{ width: 32, height: 32 }} />,
                language: "php",
                code: `<!-- composer require openai-php/client guzzlehttp/guzzle -->

<?php

require 'vendor/autoload.php';

use OpenAI\\Client;
use OpenAI\\Laravel\\Facades\\OpenAI;
use OpenAI\\Contracts\\ResponseContracts\\Chat\\CreateResponse;


$yourApiKey = '<LIARA_API_KEY>'; 
$baseUrl = '<baseUrl>'; 
$model = '<model_name>'; 

// Create the OpenAI client
$client = \\OpenAI::factory()
    ->withApiKey($yourApiKey)
    ->withBaseUri($baseUrl)
    ->make();

// Send a chat completion request
$result = $client->chat()->create([
    'model' => $model,
    'messages' => [
        ['role' => 'user', 'content' => [
            [
            "type" => "text",
            "text" => "Describe the image in detail."
            ],
            [
                "type" => "image_url",
                "image_url" => ["url" => "https://media.liara.ir/ai/dog.png"]
            ]
        ]],
    ],
]);

// Print the response
echo $result->choices[0]->message->content;

`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، فیلد <Important>image_url.url</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد یا می‌تواند بر پایه فرمت Base64 باشد. 
                    </p>
                  </div>
                  </>
                ),
                },
                {
                label: "Python",
                icon: <PlatformIcon platform="python" style={{ width: 32, height: 32 }} />,
                language: "python",
                code: `from openai import OpenAI

client = OpenAI(
  base_url="<baseUrl>",
  api_key="<LIARA_API_KEY>",
)

completion = client.chat.completions.create(
  model="openai/gpt-4o-mini",
  messages= [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "Describe the image in detail."
        },
        {
          "type": "image_url",
          "image_url": {"url": "https://media.liara.ir/ai/dog.png"}
        }
      ]
    }
  ],
)

print(completion.choices[0].message.content)`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، فیلد <Important>image_url.url</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد یا می‌تواند بر پایه فرمت Base64 باشد. 
                    </p>
                  </div>
                  </>
                ),
                },
                {
                label: "NET.",
                icon: <PlatformIcon platform="dotnet" style={{ width: 32, height: 32 }} />,
                language: "dotnet",
                code: `using System.ClientModel;
using OpenAI;
using OpenAI.Chat;

string apiKey = "<LIARA_API_KEY>";
string baseUrl = "<baseUrl>";

OpenAIClientOptions options = new OpenAIClientOptions
{
    Endpoint = new Uri(baseUrl)
};

ChatClient client = new(
    model: "<model_name>",
    credential: new ApiKeyCredential(apiKey),
    options: options
);

// Use a public image URL
Uri imageUri = new Uri("https://media.liara.ir/ai/dog.png");

var messages = new List<ChatMessage>
{
    new UserChatMessage(
        ChatMessageContentPart.CreateTextPart("Describe this image."),
        ChatMessageContentPart.CreateImagePart(imageUri)
    )
};

ClientResult<ChatCompletion> result = await client.CompleteChatAsync(messages);
string response = result.Value.Content[0].Text;
Console.WriteLine(response);
`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، ورودی متد <Important>ChatMessageContentPart.CreateImagePart</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد. 
                    </p>
                  </div>
                  </>
                ),
                },
                {
                label: "Go",
                icon: <PlatformIcon platform="go" style={{ width: 32, height: 32 }} />,
                language: "go",
                code: `// go get github.com/sashabaranov/go-openai

package main

import (
	"context"
	"fmt"

	"github.com/sashabaranov/go-openai"
)

func main() {


	
	config := openai.DefaultConfig("<LIARA_API_KEY>")
	config.BaseURL = "<baseUrl>"
	client := openai.NewClientWithConfig(config)


	model := "openai/gpt-4o-mini" 
	imageURL := "https://media.liara.ir/ai/dog.png"

	req := openai.ChatCompletionRequest{
		Model: model,
		Messages: []openai.ChatCompletionMessage{
			{
				Role: openai.ChatMessageRoleUser,
				
				MultiContent: []openai.ChatMessagePart{
					{Type: openai.ChatMessagePartTypeText, Text: "Describe the image."},
					{Type: openai.ChatMessagePartTypeImageURL, ImageURL: &openai.ChatMessageImageURL{URL: imageURL}},
				},
			},
		},
	}

	resp, err := client.CreateChatCompletion(context.Background(), req)
	if err != nil {
		panic(err)
	}

	fmt.Println("Model Response:", resp.Choices[0].Message.Content)
}`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، فیلد <Important>ImageURL</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد یا می‌تواند بر پایه فرمت Base64 باشد. 
                    </p>
                    <div className="h-2" />
                    <p>
                        در نظر داشته باشید که برای ارسال عکس به عنوان ورودی، به‌جای استفاده از کتابخانه اصلی OpenAI، از کتابخانه <Important>sashabaranov/go-openai</Important> استفاده شده است که می‌توانید با اجرای دستور زیر، آن را نصب کنید: 
                    </p>
                    </div>
                    <div className="h-2" />
                    <div dir="ltr" style={{ textAlign: "left", whiteSpace: "pre" }}>
                    <Highlight className="bash">
                      {`go get github.com/sashabaranov/go-openai`}
                    </Highlight>
                    </div>
                  </>
                ),
                },
            ]}
        />
  

    </>,

    <>
    برای استفاده از پرامپت‌های متنی با استفاده از AI SDK، می‌توانید از کدهای جاوااسکریپت زیر، استفاده کنید:

    <HighlightTabs
        tabs={[
            {
            label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
            language: "javascript",
            code: `// npm i @ai-sdk/openai-compatible

import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
import { config } from 'dotenv';
import fs from 'fs';
config();

const { text } = await generateText({
  model: createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL,
    name: 'example',
    apiKey: process.env.MY_API_KEY,
  }).chatModel("openai/gpt-4o-mini"),
  
  messages: [
    {
      role: 'user',
      content: [
        { type: 'text', text: 'Describe the image in detail.' },
        {
          type: 'image',
          image: fs.readFileSync('dog.png'),
        },
      ],
    },
  ],
});

console.log('Generated Text:', text);
`,
                description: (
                  <>
                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، فیلد <Important>image</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد، همچنین، می‌تواند بر پایه فرمت Base64 باشد. به عنوان مثال:
                    </p>
                  </div>  
                    <div className="h-2" />
                    <div dir="ltr" style={{ textAlign: "left", whiteSpace: "pre" }}>
                    <Highlight className="js">
                      {`{
  type: 'image',
  image: fs.readFileSync('./data/cat.png').toString('base64'),
}`}
  </Highlight>
</div>
                    <p>
                      یا اینکه یک لینک باشد:
                    </p>
                    <div className="h-2" />
                    <div dir="ltr" style={{ textAlign: "left", whiteSpace: "pre" }}>
                    <Highlight className="bash">
                      {`{
type: 'image',
image:
  'https://media.liara.ir/ai/dog.png',
},`}
                    </Highlight>
                    </div>
                  </>
                ),
            
            },
                        {
            label: "TypeScript",
            icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
            language: "typescript",
            code: `import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
import { config } from 'dotenv';
import fs from 'fs';
config();

async function main() {
  const model = createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL as string,
    name: 'example',
    apiKey: process.env.MY_API_KEY as string,
  }).chatModel("openai/gpt-4.1");

  const { text } = await generateText({
    model,

     messages: [
        {
          role: 'user',
          content: [
            { type: 'text', text: 'Describe the image in detail.' },
            {
              type: 'image',
              image: fs.readFileSync('dog.png'),
            },
          ],
        },
      ],

  });

  console.log('Generated Text:', text);
}

main().catch(console.error);
`,
                          description: (
                  <>
                  <div dir="rtl">
                    <p>
                      در قطعه کد فوق، فیلد <Important>image</Important>، آدرس عکس ورودی است که می‌خواهید به مدل ارسال کنید.
                      این آدرس، می‌تواند یک لینک به عکس باشد، همچنین، می‌تواند بر پایه فرمت Base64 باشد. به عنوان مثال:
                    </p>
                  </div>  
                    <div className="h-2" />
                    <div dir="ltr" style={{ textAlign: "left", whiteSpace: "pre" }}>
                    <Highlight className="js">
                      {`{
  type: 'image',
  image: fs.readFileSync('./data/cat.png').toString('base64'),
}`}
  </Highlight>
</div>
                    <p>
                      یا اینکه یک لینک باشد:
                    </p>
                    <div className="h-2" />
                    <div dir="ltr" style={{ textAlign: "left", whiteSpace: "pre" }}>
                    <Highlight className="bash">
                      {`{
type: 'image',
image:
  'https://media.liara.ir/ai/dog.png',
},`}
                    </Highlight>
                    </div>
                  </>
                ),
            },
            
        ]}
    />
    </>

  ]}
/>

<div className="h-4" />
<Alert variant="success">
<p>
یک عکس Base64، به جای فرمت‌های معمولی تصویری (مانند <Important>jpg</Important> یا <Important>png</Important>)، یک رشته متنی طولانی کدگذاری شده است که می‌تواند به عنوان ورودی به مدل ارسال شود.
شما می‌توانید برای تبدیل عکس‌های خود به فرمت Base64، از وب‌سایت <a href="https://www.base64-image.de" rel="nofollow" className='text-[#2196f3]'>base64-image</a> استفاده کنید.
</p>
</Alert>

<Section id="text-prompt-with-audio-input" title="۳. پرامپت متنی به همراه ورودی صوتی" headingTag="h3" />
<div className="h-2" />

شما می‌توانید در یک ورودی به مدل، همزمان از متن و فایل صوتی استفاده کنید. به عنوان مثال، می‌توانید از یک فایل صوتی به عنوان ورودی استفاده کنید و از مدل بخواهید که در مورد آن فایل توضیح دهد یا سوالاتی را پاسخ دهد.

<div className="h-4" />
<Alert variant="info">
<p>
در نظر داشته باشید که تنها راه ارائه فایل صوتی به مدل، استفاده از Buffer یا قرار دادن فایل به صورت محلی کنار کد است و امکان استفاده از لینک مستقیم وجود ندارد.
</p>
</Alert>

<Alert variant="success">
<p>
API هوش مصنوعی لیارا، ورودی صوتی با فرمت <Important>mp3</Important> و <Important>wav</Important> را پشتیبانی می‌کند.
</p>
</Alert>

<Tabs 
  tabs={["OpenAI SDK", "AI SDK"]} 
  content={[
    <>
        برای استفاده از پرامپت‌های متنی همراه با ورودی صوتی در OpenAI SDK، می‌توانید از کدها و دستورات زیر استفاده کنید: 
        <HighlightTabs
            tabs={[
                {
                label: "JavaScript",
                icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
                language: "javascript",
                code: `// npm install openai

import OpenAI from "openai";
import fs from "fs";

const openai = new OpenAI({
  baseURL: "<baseUrl>",
  apiKey: "<LIARA_API_KEY>",
});

async function main() {

  // Read and base64 encode the audio file
  const audioFile = fs.readFileSync("liara-song.mp3");
  const audioBase64 = audioFile.toString("base64");

  const completion = await openai.chat.completions.create({
    model: "google/gemini-2.5-flash", 
    messages: [
      {
        role: "user",
        content: [
          {
            type: "text",
            text: "What is the audio saying?",
          },
          {
            type: "input_audio",
            input_audio: {
              data: audioBase64,
              format: "mp3",
            },
          },
        ],
      },
    ],
  });

  console.log(completion.choices[0].message.content);
}

main();
`,

                },
                {
                label: "PHP",
                icon: <PlatformIcon platform="php" style={{ width: 32, height: 32 }} />,
                language: "php",
                code: `<!-- composer require openai-php/client guzzlehttp/guzzle -->

<?php
require 'vendor/autoload.php';

use OpenAI\\Client;

$client = OpenAI::factory()
    ->withApiKey('<LIARA_API_KEY>')
    ->withBaseUri('<baseUrl>') 
    ->make();

// Read and base64 encode the audio file
$audioData = base64_encode(file_get_contents("liara-song.mp3"));

$response = $client->chat()->create([
    "model" => "google/gemini-2.5-flash",
    "messages" => [
        [
            "role" => "user",
            "content" => [
                [
                    "type" => "text",
                    "text" => "What is the audio saying?"
                ],
                [
                    "type" => "input_audio",
                    "input_audio" => [
                        "data" => $audioData,
                        "format" => "mp3"
                    ]
                ]
            ]
        ]
    ],
]);

echo $response->choices[0]->message->content;
`,
                },
                {
                label: "Python",
                icon: <PlatformIcon platform="python" style={{ width: 32, height: 32 }} />,
                language: "python",
                code: `# pip install openai

from openai import OpenAI
import base64

client = OpenAI(
  base_url="<baseUrl>",
  api_key="<LIARA_API_KEY>",
)

with open("liara-song.mp3", "rb") as audio_file:
    audio_data = base64.b64encode(audio_file.read()).decode('utf-8')

completion = client.chat.completions.create(
  model="google/gemini-2.5-flash",
  messages=[
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "What is the audio saying?"
        },
        {
          "type": "input_audio",
          "input_audio": {
            "data": audio_data,
            "format": "mp3"
          }
        }
      ]
    }
  ],
)

print(completion.choices[0].message.content)
`,
                },
                {
                label: "NET.",
                icon: <PlatformIcon platform="dotnet" style={{ width: 32, height: 32 }} />,
                language: "dotnet",
                code: `// dotnet add package OpenAI

using System;
using System.IO;
using System.Threading.Tasks;
using System.ClientModel;
using OpenAI;
using OpenAI.Chat;

class Program
{
    static async Task Main()
    {
        string apiKey  = "<LIARA_API_KEY>";
        string baseUrl = "<baseUrl>";

        OpenAIClientOptions options = new OpenAIClientOptions
        {
            Endpoint = new Uri(baseUrl)
        };

        ChatClient client = new(
            model: "google/gemini-2.5-flash",
            credential: new ApiKeyCredential(apiKey),
            options: options
        );

        
        byte[] audioBytes = File.ReadAllBytes("liara-song.mp3");
        BinaryData audioData = BinaryData.FromBytes(audioBytes);

        var messages = new List<ChatMessage>
        {
            new UserChatMessage(
                ChatMessageContentPart.CreateTextPart("What is the audio saying?"),
                ChatMessageContentPart.CreateInputAudioPart(audioData, ChatInputAudioFormat.Mp3)
            )
        };

        ClientResult<ChatCompletion> result = await client.CompleteChatAsync(messages);
        string response = result.Value.Content[0].Text;
        Console.WriteLine(response);
    }
}
`,
                },
                {
                label: "Go",
                icon: <PlatformIcon platform="go" style={{ width: 32, height: 32 }} />,
                language: "go",
                code: `// go get github.com/openai/openai-go
// go get github.com/openai/openai-go/option

package main

import (
	"context"
	"encoding/base64"
	"encoding/json"
	"fmt"
	"log"
	"os"

	openai "github.com/openai/openai-go/v2"
	"github.com/openai/openai-go/v2/option"
)

type InputAudio struct {
	Data   string \`json:"data"\`
	Format string \`json:"format"\`
}

type ContentItem struct {
	Type       string     \`json:"type"\`
	Text       string     \`json:"text,omitempty"\`
	InputAudio *InputAudio \`json:"input_audio,omitempty"\`
}

type Message struct {
	Role    string        \`json:"role"\`
	Content []ContentItem \`json:"content"\`
}

func main() {
	audioPath := "liara-song.mp3"

	audioBytes, err := os.ReadFile(audioPath)
	if err != nil {
		log.Fatalf("Failed to read audio file: %v", err)
	}

	base64Audio := base64.StdEncoding.EncodeToString(audioBytes)

	client := openai.NewClient(
		option.WithAPIKey("<LIARA_API_KEY>"),
		option.WithBaseURL("<BASE_URL"),
	)

	messages := []Message{
		{
			Role: "user",
			Content: []ContentItem{
				{Type: "text", Text: "What is the audio saying?"},
				{Type: "input_audio", InputAudio: &InputAudio{
					Data:   base64Audio,
					Format: "mp3",
				}},
			},
		},
	}

	params := map[string]interface{}{
		"model":    "google/gemini-2.5-flash",
		"messages": messages,
	}

	var result map[string]interface{}
	if err := client.Post(context.Background(), "/v1/chat/completions", params, &result); err != nil {
		log.Fatalf("API request failed: %v", err)
	}

	if choices, ok := result["choices"].([]interface{}); ok && len(choices) > 0 {
		if msg, ok := choices[0].(map[string]interface{})["message"].(map[string]interface{}); ok {
			content, _ := json.MarshalIndent(msg["content"], "", "  ")
			fmt.Println("Model Response:", string(content))
		} else {
			fmt.Printf("Unexpected message format: %+v\\n", choices[0])
		}
	} else {
		fmt.Printf("No choices returned. Full response: %+v\\n", result)
	}
}
`,
                },
                                {
                label: "cURL",
                language: "bash",
                code: `#!/bin/bash
# create a file named command.sh and run with \`bash command.sh liara-song.mp3\`

if [ $# -eq 0 ]; then
    echo "Usage: $0 <audio_file.mp3>"
    echo "Example: $0 liara-song.mp3"
    exit 1
fi

AUDIO_FILE="$1"

if [ ! -f "$AUDIO_FILE" ]; then
    echo "Error: Audio file '$AUDIO_FILE' not found"
    exit 1
fi

echo "Encoding audio file to base64..."

AUDIO_BASE64=$(base64 -w 0 "$AUDIO_FILE")

echo "Creating JSON payload..."

cat > /tmp/payload.json << EOF
{
  "model": "google/gemini-2.5-flash",
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "text",
          "text": "What is the audio saying?"
        },
        {
          "type": "input_audio",
          "input_audio": {
            "data": "$AUDIO_BASE64",
            "format": "mp3"
          }
        }
      ]
    }
  ]
}
EOF

echo "Sending request to API..."

curl -X POST "<baseUrl>/chat/completions" \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer <LIARA_API_KEY>" \\
  -d @/tmp/payload.json

echo ""
echo "Cleaning up temporary files..."

rm /tmp/payload.json

echo "Done!"`,
                },
            ]}
        />
    </>,

    <>
    برای استفاده از پرامپت‌های متنی با استفاده از AI SDK، می‌توانید از کد زیر، استفاده کنید:

    <div className='h-3' />
    <div dir="ltr" style={{ textAlign: "left", whiteSpace: "pre" }}>
      <Highlight className="js">
        {`// npm i @ai-sdk/openai@^1 ai@^4 dotenv

import { generateText } from 'ai';
import { createOpenAI } from '@ai-sdk/openai';
import { config } from 'dotenv';
import fs from 'fs';

config();
const my_model = createOpenAI({
  baseURL: process.env.BASE_URL!,
  apiKey: process.env.LIARA_API_KEY!,
});

const result = await generateText({
  model: my_model('google/gemini-2.5-flash'),
  messages: [
    {
      role: 'user',
      content: [
        {
          type: 'file',
          mimeType: 'audio/mpeg',
          data: fs.readFileSync('./data/liara-song.mp3'),
        },
      ],
    },
  ],
});

console.log(result.text);`}
      </Highlight>
    </div>

    </>

  ]}
/>


<Section id="text-prompt-with-file-input" title="۴. پرامپت متنی به همراه ورودی فایل" headingTag="h3" />
<div className="h-2" />

شما می‌توانید در یک ورودی به مدل، همزمان از متن و فایل استفاده کنید. به عنوان مثال، می‌توانید از یک فایل به عنوان ورودی استفاده کنید و از مدل بخواهید که در مورد آن فایل توضیح دهد یا سوالاتی را پاسخ دهد.

<div className="h-4" />
<Alert variant="info">
<p>
در نظر داشته باشید که تنها راه ارائه فایل به مدل، استفاده از Buffer یا قرار دادن فایل به صورت محلی کنار کد است و امکان استفاده از لینک مستقیم وجود ندارد.
</p>
</Alert>


<Tabs 
  tabs={["AI SDK"]} 
  content={[
    <>
    برای استفاده از پرامپت‌های متنی با استفاده از AI SDK، می‌توانید از کد زیر، استفاده کنید:

    <div className='h-3' />
    <div dir="ltr" style={{ textAlign: "left", whiteSpace: "pre" }}>
      <Highlight className="js">
        {`// npm i @ai-sdk/openai@^1 ai@^4 dotenv

import { generateText } from 'ai';
import { createOpenAI } from '@ai-sdk/openai';
import { config } from 'dotenv';
import fs from 'fs';

config();
const my_model = createOpenAI({
  baseURL: process.env.BASE_URL!,
  apiKey: process.env.LIARA_API_KEY!,
});

const result = await generateText({
  model: my_model('openai/gpt-4o-mini'),
  messages: [
    {
      role: 'user',
      content: [
        { type: 'text', text: 'What is the file about?' },
        {
          type: 'file',
          mimeType: 'application/pdf',
          data: fs.readFileSync('./data/sample.pdf'),
          filename: 'sample.pdf', // optional, not used by all providers
        },
      ],
    },
  ],
});

console.log(result.text)`}
      </Highlight>
    </div>

    </>

  ]}
/>



<Section id='assistant-prompt-types' title='انواع پرامپت‌ها با نقش دستیار (assistant) در AI SDK' />

پیام‌های Assistant معمولاً پاسخ‌های قبلی دستیار به کاربر هستند و می‌توانند شامل متن، استدلال یا بخش‌هایی مربوط به فراخوانی ابزار (tool call) باشند.
در ادامه، تمامی پرامپت‌هایی که یک مدل با نقش <Important>assistant</Important> می‌تواند دریافت کند، توضیح داده شده است.

<div className="h-4" />
<h3>۱. پرامپت متنی</h3>
<div className="h-2" />

نحوه تعریف پرامپت متنی با نقش <Important>assistant</Important>، مشابه با پرامپت متنی با نقش <Important>user</Important> است که در بخش <a href="/ai/foundations/prompts/#message-prompt" className='text-[#2196f3]'>پرامپت‌های پیام‌محور</a> توضیح داده شده است.
مثال زیر، یک پرامپت متنی با نقش <Important>assistant</Important> با استفاده از AI SDK را، نشان می‌دهد: 

<HighlightTabs
  tabs={[
    {
      label: "JavaScript",
      icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
      language: "javascript",
      code: `// npm i @ai-sdk/openai-compatible

import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
import { config } from 'dotenv';

import 'dotenv/config';

config();


const { text } = await generateText({
  model: createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL,
    name: 'example',
    apiKey: process.env.MY_API_KEY,
  }).chatModel("openai/gpt-4o-mini"),
  
  messages: [
    { role: 'user', content: 'Hi!' },
    { role: 'assistant', content: 'Hello, how can I help?' },
  ],
});

console.log('Generated Text:', text);
`,
    },
    {
      label: "TypeScript",
      icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
      language: "typescript",
      code: `import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
import { config } from 'dotenv';
config();

async function main() {
  const model = createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL as string,
    name: 'example',
    apiKey: process.env.MY_API_KEY as string,
  }).chatModel("openai/gpt-4.1");

  const { text } = await generateText({
    model,

     messages: [
    { role: 'user', content: 'Hi!' },
    { role: 'assistant', content: 'Hello, how can I help?' },
  ],

  });

  console.log('Generated Text:', text);
}

main().catch(console.error);
`,
    },
  ]}
/> 

<div className="h-2" />

<div className="h-4" />
<h3>۲. پرامپت متنی به‌صورت آرایه‌ای از پیام‌ها</h3>
<div className="h-2" />

شما می‌توانید به جای یک پیام با نقش <Important>assistant</Important>، آرایه‌ای از پیام‌ها را به مدل، ارسال کنید: 

<HighlightTabs
  tabs={[
    {
      label: "JavaScript",
      icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
      language: "javascript",
      code: `// npm i @ai-sdk/openai-compatible

import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
import { config } from 'dotenv';

import 'dotenv/config';

config();


const { text } = await generateText({
  model: createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL,
    name: 'example',
    apiKey: process.env.MY_API_KEY,
  }).chatModel("openai/gpt-4o-mini"),
  
  messages: [
    { role: 'user', content: 'Hi!' },
    {
      role: 'assistant',
      content: [
        { type: 'text', text: 'Hello, how can I help?' },
        { type: 'text', text: 'Hi, Good Morning' },
      ],
    },
  ],
});

console.log('Generated Text:', text);
`,
    },
    {
      label: "TypeScript",
      icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
      language: "typescript",
      code: `import { createOpenAICompatible } from '@ai-sdk/openai-compatible';
import { generateText } from 'ai';
import { config } from 'dotenv';
config();

async function main() {
  const model = createOpenAICompatible({
    baseURL: process.env.MY_BASE_URL as string,
    name: 'example',
    apiKey: process.env.MY_API_KEY as string,
  }).chatModel("openai/gpt-4.1");

  const { text } = await generateText({
    model,

     messages: [
        { role: 'user', content: 'Hi!' },
    {
      role: 'assistant',
      content: [
        { type: 'text', text: 'Hello, how can I help?' },
        { type: 'text', text: 'Hi, Good Morning' },
      ],
    },
      ],

  });

  console.log('Generated Text:', text);
}

main().catch(console.error);
`,
    },
  ]}
/> 


<Section id='prompt-engineering' title='مهندسی پرامپت (Prompt Engineering)' />

مهندسی پرامپت فرآیند نوشتن پرامپت‌های مؤثر برای یک مدل است؛ به گونه‌ای که مدل به‌طور پیوسته محتوایی تولید کند که با نیازهای شما مطابقت داشته باشد.
از آنجا که محتوای تولیدشده توسط مدل‌ها غیر قطعی (non-deterministic) است، طراحی یک پرامپت که خروجی را در قالب و فرم مطلوب تولید کند، ترکیبی از هنر و علم محسوب می‌شود. با این حال، تکنیک‌ها و روش‌های اثبات‌شده‌ای وجود دارند که می‌توان از آن‌ها برای دستیابی مداوم به نتایج مطلوب استفاده کرد.
<div className="h-4" />

برخی تکنیک‌های مهندسی پرامپت برای همه‌ی مدل‌ها قابل استفاده‌اند، مانند استفاده از نقش‌ها (roleها). اما هر نوع مدل، برای بهینه‌سازی نتایج، نیاز به پرامپت نویسی متفاوتی دارد. حتی نسخه‌های مختلف از یک مدل (مانند <Important>openai/gpt-4o-mini</Important> و <Important>openai/gpt-4.1</Important>) ممکن است خروجی‌های متفاوتی تولید کنند.
<div className="h-4" />

بنابراین، اگر در حال ساخت برنامه‌های پیچیده هستید، اکیداً توصیه می‌شود که اقدامات زیر را انجام دهید:

<div className="h-4" />
<h3>استفاده از یک مدل مشخص</h3>
<div className="h-2" />

در برنامه‌های خود، فقط از یک مدل مشخص استفاده کنید تا رفتار مدل همواره ثابت باقی بماند.

<div className="h-4" />
<h3>ساخت ابزارهای ارزیابی (evals)</h3>
<div className="h-2" />

معیارهایی طراحی و اجرا کنید که رفتار پرامپت‌های شما را ارزیابی کند، تا بتوانید عملکرد آن‌ها را در طول زمان رصد کرده و هنگام تغییر یا ارتقای نسخه‌ی مدل، دید بهتری در انتخاب مدل، داشته باشید.

<div className="h-4" />
<h3>تعیین محدودیت در استفاده از Toolها</h3>
<div className="h-2" />

زمانی که پرامپت‌هایی طراحی می‌کنید که از Toolها استفاده می‌کنند، دستیابی به نتایج مطلوب می‌تواند با افزایش تعداد و پیچیدگی Toolها دشوارتر شود.
در ادامه، چند نکته برای بهبود عملکرد مدل هنگام استفاده از Toolها ارائه شده است:

<div className="h-4" />

<ul>
<li>از مدلی استفاده کنید که توانایی بالایی در Tool Calling (فراخوانی یک Tool) دارد، مانند <Important>openai/gpt-4.1</Important>.
مدل‌های ضعیف‌تر اغلب در این زمینه دچار مشکل می‌شوند.</li>

<li>تعداد Toolها را پایین نگه دارید؛ به‌طور کلی، بهتر است از پنج  Tool یا کمتر استفاده کنید.</li>

<li>پارامترهای Tool را ساده نگه دارید و از المان‌های تو در تو، استفاده نکنید.</li>

<li>نام‌های با معنا برای ابزارها، پارامترها و ویژگی‌های پارامتر انتخاب کنید.</li>

<li>نمونه‌هایی از ورودی/خروجی ابزارها را در پرامپت بگنجانید تا مدل درک بهتری از نحوه‌ی استفاده داشته باشد.</li>

</ul>



{/* 


<HighlightTabs
  tabs={[
    {
      label: "JavaScript",
      icon: <PlatformIcon platform="nodejs" style={{ width: 32, height: 32 }} />,
      language: "javascript",
      code: ``,
    },
    {
      label: "TypeScript",
      icon: <ThemePlatformIcon light="https://media.liara.ir/logos/typescript.svg" dark="https://media.liara.ir/logos/typescript.svg" style={{ width: 18, height: 18 }} />,
      language: "typescript",
      code: ``,
    },
  ]}
/> 

<Section id='' title='' />


<div className="h-2" />
<ul className="pr-4">
  {[
    {text: <p></p>},
    {text: <p></p>},
    {text: <p></p>},
  ].map((item, index) => (
    <li
      key={index}
      style={{
        textDecorationColor: "#9ca3af",
        listStyle:"disc"
      }}
    >
     {item.text}
    </li>
  ))}
</ul>

<div className="h-2" />

<HighlightTabs
  tabs={[
    {
      label: "openAI",
      icon: <PlatformIcon platform={"https://media.liara.ir/logos/ai/openai-light.svg"} style={{ width: 18, height: 18,color:"#ccc" }} />,
      language: "javascript",
      code: ``,
    },
  ]}
/> */}

</Layout>
