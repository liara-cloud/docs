import Layout from "@/components/Layout";
import Button from "@/components/Common/button";
import Section from "@/components/Common/section";
import Alert from "@/components/Common/alert";
import Tabs from "@/components/Common/tab";
import Step from "@/components/Common/step";
import Card from "@/components/Common/card";
import Important from "@/components/Common/important";
import Highlight from "@/components/Common/highlight";
import Link from "next/link";
import PlatformIcon from "@/components/Common/icons";
import {
    GoArrowLeft,
} from "react-icons/go";
import Head from "next/head"

<Layout>
<Head>
<title>مستندات شبکه خصوصی دیتابیس  - لیارا</title>
<meta property="og:title" content="مستندات خدمات رایانش ابری لیارا" />
<meta property="og:description" content="مستندات مربوط به شبکه خصوصی یک دیتابیس و آشنایی با جزئیات آن"  />
</Head>
# شبکه خصوصی 

<hr className="mb-2" />
شبکه‌ی خصوصی در لیارا این امکان را فراهم آورده تا برنامه‌های شما با سرعت و امنیت بیشتری، بدون وجود محدودیت در پروتکل‌ها با هم ارتباط برقرار کنند. شما می‌توانید در لیارا، هر پروژه را در شبکه مخصوص خودش، مستقر کنید.

<Section id="private-network-usage" title="کاربرد شبکه خصوصی چیست؟" />
شاید تا به حال بارها برای شما پیش آمده باشد که در حال کار بر روی چندین پروژه متفاوت باشید و پروژه‌های مختلفی را در پنل کاربری خود، مستقر کرده‌باشید.

به عنوان مثال فرض کنید که یک پروژه وبسایت فروشگاه لوازم الکترونیکی دارید و پروژه دومتان یک اپلیکیشن اندرویدی است. هر کدام از این دو پروژه، پلتفرم و دیتابیس‌های خاص خود را دارند اما تشخیص اینکه هر برنامه یا دیتابیس مربوط به کدام پروژه است؛ ممکن است کمی برای شما وقت‌گیر و خسته کننده باشد.
<div className="h-4" />

لیارا این مشکل را برای شما حل کرده است؛ شما می‌توانید در لیارا، پروژه‌ها و برنامه‌هایی که به یکدیگر مرتبط نیستند و با هم هیچ ارتباطی ندارند را در شبکه‌های خصوصی متفاوت از هم، مستقر کنید. این کار نه تنها باعث سهولت و افزایش نظم در تشخیص پروژه‌ها می‌شود؛ بلکه به صورت کامل ارتباط دو برنامه غیرمرتبط با همدیگر را، قطع می‌کند. و اینگونه شما می‌توانید بدون کمترین نگرانی، پروژه‌های متعدد خود را در لیارا مستقر کنید.

<Section id="create-new-private-network" title="ساخت شبکه خصوصی جدید" />
اگر که نیاز به شبکه خصوصی جدید دارید و قصد دارید که برنامه یا دیتابیس جدید خود را در شبکه جدیدی قرار بدهید؛ کافیست که در صفحات ساخت برنامه یا ساخت دیتابیس جدید، در قسمت شبکه خصوصی، بر روی گزینه <b>ساخت شبکه خصوصی جدید</b> کلیک کنید:

<div className="h-4" />
<img src="https://media.liara.ir/docs/create-private-network.png" alt="create-private-network"/>
<div className="h-4" />
سپس کافیست در قسمت نام شبکه، یک نام دلخواه برای شبکه خصوصی جدید انتخاب کنید و پس از آن بر روی گزینه <b>ایجاد شبکه</b>، کلیک کنید:
<div className="h-4" />
<img src="https://media.liara.ir/docs/naming-private-network.png" alt="naming private network"/>
<div className="h-4" />

اکنون شبکه شما ساخته شده و می‌توانید برنامه‌های مد نظر خود را در آن شبکه، ایجاد کنید.

<Section id="set-private-network-for-app-and-db" title="تنظیم شبکه خصوصی برای هر برنامه و دیتابیس" />
برای اینکه برنامه یا دیتابیس جدید را در شبکه خصوصی مدنظرخود قراردهید، کافیست تا در قسمت شبکه خصوصی، نام شبکه خود را انتخاب کنید تا برنامه یا دیتابیس، در آن مستقر شود و با برنامه‌ها و دیتابیس‌های دیگر موجود در آن شبکه، ارتباط برقرار کند.
<div className="h-4" />
<img src="https://media.liara.ir/docs/set-private-network.png" alt="set private network"/>
<div className="h-4" />

پس از اینکه برنامه یا دیتابیس ساخته شد، در قسمت اطلاعات کلی آن، می‌توانید نام شبکه را نیز مشاهده بفرمایید:
<div className="h-4" />
<img src="https://media.liara.ir/docs/app-private-network.png" alt="app private network"/>
<div className="h-4" />

<Section id="connect-two-apps-in-private-network" title="نحوه‌ی اتصال دو برنامه به یکدیگر در شبکه‌ی خصوصی" />
فرض کنید که قصد دارید با استفاده از برنامه دومی، یک‌سری از اطلاعات موجود در برنامه اولیه خود را پردازش کنید. برای انجام این کار، شما باید یک ارتباط بین این دو برنامه ایجاد کنید. 

به عنوان مثال، فرض کنید که یک فروشگاه اینترنی دارید و قصدتان این است که خواسته‌های مشتریان را با برنامه دوم‌تان، تحلیل و پردازش کنید.

فروشگاه فرضی ما با <Important>NodeJS</Important> و برنامه‌‌ای که اطلاعات کاربران را تحلیل می‌کند با <Important>Python</Important> توسعه داده شده است و به‌ترتیب شناسه‌‌های برنامه‌های ما، <Important>market</Important> و <Important>market-ai</Important> هستند. حال براساس سناریو فعلی نیاز داریم که مشخصات کاربران را از فروشگاه به برنامه <Important>market-ai</Important> ارسال کنیم و این کار به شکل زیر انجام خواهد شد:
<div className="h-2" />

<div dir='ltr'>
    <Highlight className="js">
        {`const axios = require('axios')

axios
.post('http://market-ai:2597/analyze', {
  age: '26',
  weight: '110',
  height: '190'
})
.then(res => {
  console.log(\`statusCode: \${res.status}\`)
  console.log(res)
})
.catch(error => {
  console.error(error)
})`}
    </Highlight>
</div>
<div className="h-2" />
<Alert variant="info">
<p>
توجه داشته باشید که برای دسترسی یک برنامه به برنامه‌ای دیگر، هر دو برنامه باید در یک شبکه خصوصی مشترک قرار گرفته باشند و تنها کافی است که شناسه‌‌ی برنامه به‌عنوان host وارد شود و همچنین فراموش نکنید که مقادیر port و endpoint را مشخص کنید.
</p>
</Alert>


<Section id="connect-app-to-db" title="نحوه‌ی اتصال برنامه به دیتابیس در شبکه‌ی خصوصی" />
از آنجایی که سرعت و امنیت از شاخصه‌های کلیدی برنامه‌‌های شما هستند و به همین منظور می‌خواهید فقط برنامه‌‌های شما به دیتابیس‌هایتان دسترسی داشته باشند. بنابراین در قدم اول باید دسترسی از طریق شبکه‌ی عمومی را در زمان راه‌اندازی دیتابیس غیرفعال کنید.
<div className="h-4" />
<img src="https://media.liara.ir/docs/db-access.png" alt="db access in private network"/>
<div className="h-4" />
<Alert variant="info">
<p>
 درصورتی که دیتابیس شما از طریق شبکه‌ی عمومی در دسترس باشد، باز هم این امکان وجود دارد که برنامه‌های شما از طریق شبکه‌ی خصوصی به دیتابیس متصل شوند. البته اگر که در یک شبکه خصوصی مشترک قرار گرفته باشند.
</p>
</Alert>

درنهایت پس از راه‌اندازی دیتابیس و انتخاب شبکه خصوصی، می‌توانید وارد بخش نحوه‌ی اتصال دیتابیس شده و از آن اطلاعات برای اتصال به دیتابیس خود استفاده کنید. توجه داشته باشید فقط در صورتی می‌توانید یک برنامه را به دیتابیس متصل کنید که هر دو در یک شبکه خصوصی مشترک قرار گرفته باشند.
<div className="h-4" />
<img src="https://media.liara.ir/docs/db-connect.png" alt="db connection in private network"/>
<div className="h-4" />

<Section id='apps-with-same-private-network' title="برنامه‌های درون شبکه خصوصی مشترک" />
برای این‌که راحت‌تر برنامه‌ها و دیتابیس‌های درون یک شبکه خصوصی مشترک را تشخیص دهید، می‌توانید از رنگ‌بندی متمایز هر شبکه که در کنار سطر هر برنامه قرار گرفته است، استفاده کنید؛ بدیهی است که برنامه‌های با رنگ یکسان، در یک شبکه خصوصی مشترک قرار دارند:
<div className="h-4" />
<img src="https://media.liara.ir/docs/different-private-networks.png" alt="different private networks"/>
<div className="h-4" />

<Section id='edit-dbaas-private-network' title="تغییر شبکه خصوصی" />
تغییر شبکه خصوصی پس از ایجاد دیتابیس، امکان پذیر نیست. در صورتی که لازم دارید شبکه خصوصی را تغییر دهید، لازم هست یک دیتابیس جدید با شبکه خصوصی دلخواه ایجاد کرده و فایل پشتیبان دیتابیس قبلی را بازیابی کنید. 

<Section id='delete-dbaas-private-network' title="حذف شبکه خصوصی" />
شبکه خصوصی متصل به سرویس، قابل حذف نیست. در واقع شبکه‌های خصوصی که به سرویسی متصل نیستند، پس از مدتی به صورت خودکار حذف می‌شوند.

</Layout>