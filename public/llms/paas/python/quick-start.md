Original link: https://docs.liara.ir/paas/python/quick-start/

# استقرار سریع برنامه‌های Python

در نظر داشته باشید که  
برای استقرار ساده‌تر و بهینه‌تر برنامه‌های مبتنی بر [Flask](https://docs.liara.ir/paas/flask/getting-started/) و [Django](https://docs.liara.ir/paas/django/getting-started/)، می‌توانید از پلتفرم‌های مخصوص خودشان،  
استفاده کنید و در صورتی که برنامه‌تان شامل این دو فریم‌ورک نیست، می‌توانید از پلتفرم پایتون، بهره ببرید.

## Liara Console

[Video link](https://media.liara.ir/python/python-desktop.mp4)

برای استقرار با استفاده از ابزار [Liara Console](https://docs.liara.ir/references/console/about) کافیست تا مراحل زیر را طی کنید:

۱. ورود به حساب کاربری  
وارد [کنسول لیارا](https://console.liara.ir) شوید و با وارد کردن ایمیل یا شماره همراه ثبت شده، به اکانت خود در لیارا، لاگین کنید.

۲. ایجاد برنامه  
برنامه Python خود را با شناسه، [شبکه خصوصی](../details/private-network) و [منابع سخت‌افزاری و بسته امکانات](../details/plans/about) مدنظرتان ایجاد کنید.

۳. حذف فایل‌های اضافی  
پوشه‌ها و فایل‌های درون پروژه که قصد ندارید در لیارا آپلود شوند (به عنوان مثال پوشه‌های venv. و dist) را پاک کنید.

۴. تنظیم فایل‌ requirements.txt  
در صورتی که از کتابخانه یا پکیج خاصی استفاده می‌کنید که به صورت built-in (پیش‌فرض) در پایتون وجود ندارد، حتماً باید در مسیر اصلی پروژه، فایل `requirements.txt` وجود داشته باشد؛  
اگر که این فایل وجود ندارد، می‌توانید با اجرای دستور زیر (با فرض فعال بودن محیط مجازی برنامه)، این فایل را ایجاد کنید:

```bash
pip freeze > requirements.txt 
```

۵. زیپ و آپلود پروژه  
پوشه پروژه را در یک فایل `zip` قرار دهید. فایل را کشیده و در باکس آپلود Liara Console رها کنید.

۶. استقرار پروژه  
مرحله به مرحله استقرار را با Console جلو بروید و شخصی‌سازی‌های لازم را انجام دهید و در نهایت بر روی گزینه استقرار کلیک کنید تا عملیات استقرار، آغاز شود.

## Liara CLI

[Video link](https://media.liara.ir/python/python-cli.mp4)

برای استقرار با استفاده از ابزار [Liara CLI](https://docs.liara.ir/references/cli/about) کافیست تا مراحل زیر را طی کنید:

۱. نصب Liara CLI  
ترمینال را باز کنید و با اجرای دستور زیر، ابزار Liara CLI را بر روی سیستم خود نصب کنید:

```bash
npm install -g @liara/cli
```

> دقت کنید که [npm و NodeJS](https://nodejs.org) باید بر روی سیستم‌عامل‌تان نصب باشد.

> در ویندوز، ترمینال باید بر روی CMD تنظیم باشد.

۲. لاگین به حساب کاربری  
با اجرای دستور زیر، وارد حساب کاربری خود در لیارا، شوید:

```bash
liara login
```

۳. ایجاد شبکه خصوصی  
با دستور زیر، [شبکه خصوصی](../details/private-network) برنامه خود را ایجاد کنید:

```bash
liara network create
```

> اگر که از قبل شبکه خصوصی ایجاد کرده‌اید؛ نیازی به انجام این کار نیست.

۴. ایجاد برنامه  
با اجرای دستور زیر، برنامه Python خود را ایجاد کنید:

```bash
liara create
```

> اگر که از قبل برنامه خود را ایجاد کرده‌اید؛ نیازی به انجام این کار نیست.  
در ادامه اجرای این دستور، باید به ترتیب، شناسه، نوع پلتفرم (که باید بر روی Python تنظیم شود)، شبکه خصوصی و [منابع سخت‌افزاری و بسته امکانات برنامه](../details/plans/about)، مشخص شوند.

۵. نادیده گرفتن فایل‌های اضافی  
برای آپلود نشدن فایل‌های اضافی، از `gitignore.` یا `liaraignore.` استفاده کنید و درون یکی از این دو فایل، اسامی دایرکتوری‌ها و فایل‌های اضافی را بیاورید. به عنوان مثال:

```gitignore
env/
.env
.venv/ 
.cache
```

۶. تنظیم فایل‌ requirements.txt  
در صورتی که از کتابخانه یا پکیج خاصی استفاده می‌کنید که به صورت built-in (پیش‌فرض) در پایتون وجود ندارد، حتماً باید در مسیر اصلی پروژه، فایل `requirements.txt` وجود داشته باشد؛  
اگر که این فایل وجود ندارد، می‌توانید با اجرای دستور زیر (با فرض فعال بودن محیط مجازی برنامه)، این فایل را ایجاد کنید:

```bash
pip freeze > requirements.txt 
```

۷. استقرار برنامه  
با اجرای دستور زیر در مسیر اصلی پروژه، برنامه خود را  در لیارا مستقر کنید (بعد از `app--` شناسه برنامه خود را وارد کنید و در صورتی که برنامه‌تان وب‌سرور است و در پورت خاصی به درخواست کاربران گوش می‌دهد؛ بعد از  
`port--`، پورت برنامه را، وارد کنید):

```bash
liara deploy --app=myapp --port=8000 --platform=python
```

برای استقرار برنامه در تیم مدنظرتان، کافیست تا از [شناسه تیم](https://docs.liara.ir/references/api/about/#team-id) و فلگ `team-id--` استفاده کنید:

```bash
liara deploy --app=myapp --platform=python --port=8000 --team-id=your-unique-team-id
```

## Github

[Video link](https://media.liara.ir/docs/python-github.mp4)

برای استقرار با Github، کافیست تا مراحل زیر را طی کنید:

۱. ورود به حساب کاربری  
وارد [کنسول لیارا](https://console.liara.ir) شوید و با وارد کردن ایمیل یا شماره همراه ثبت شده، به اکانت خود در لیارا، لاگین کنید.

۲. ایجاد برنامه  
برنامه Python خود را با شناسه، [شبکه خصوصی](../details/private-network) و [منابع سخت‌افزاری و بسته امکانات](../details/plans/about) مدنظرتان ایجاد کنید.

۳. تنظیم فایل‌ requirements.txt  
در صورتی که از کتابخانه یا پکیج خاصی استفاده می‌کنید که به صورت built-in (پیش‌فرض) در پایتون وجود ندارد، حتماً باید در مسیر اصلی پروژه، فایل `requirements.txt` وجود داشته باشد؛  
اگر که این فایل وجود ندارد، می‌توانید با اجرای دستور زیر (با فرض فعال بودن محیط مجازی برنامه)، این فایل را ایجاد کنید:

```bash
pip freeze > requirements.txt 
```

۴. ساخت فایل `liara.json`  
در مسیر اصلی پروژه، یک فایل به نام `liara.json` ایجاد کنید و پیکربندی‌های مدنظرتان را در این فایل بنویسید؛ به عنوان مثال:

```json
{
  "python": {
    "mirror": true,
    "version": "3.12",
    "timezone": "America/Los_Angeles"
  },
  "port": 8000,
}
```
> در فایل فوق، برای جلوگیری از خطا خوردن فرایند استقرار، از فیلدهای `app` و `platform` استفاده نکنید؛ چرا که لیارا، آن‌ها را به صورت خودکار، تشخیص خواهد داد.  
> در صورتی که برنامه وب‌سرور است و در پورت خاصی به درخواست کاربران گوش می‌کند؛ می‌توانید پورت برنامه را در فیلد `port`، مشخص کنید.

۵. ساخت ریپازیتوری در گیت‌هاب  
یک ریپازیتوری در حساب گیت‌هاب خود برای برنامه‌مدنظرتان با نام دلخواه‌تان ایجاد کنید.

> در صورتی که از قبل، این کار را انجام داده‌اید یا قصد دارید از ریپازیتوری‌های فعلی خود استفاده کنید؛ از این مرحله بگذرید.

۶. آپلود پروژه در گیت‌هاب  
پروژه نهایی خود را در ریپازیتوری‌تان در گیت‌هاب آپلود کنید؛  
حتماً در نظر داشته باشید که درون پروژه‌تان، فایل `gitignore.` قرار داشته باشد و درون آن، فایل‌های اضافی  
برنامه، که قصد ندارید آپلود شوند؛ لیست شده باشند.

۷. اتصال لیارا به گیت‌هاب  
برای اتصال حساب لیارا خود به گیت‌هاب، در لیارا بر روی پروفایل خود کلیک کرده و وارد زیر قسمت [حساب کاربری](https://console.liara.ir/settings/profile) شوید. در ادامه  
وارد منوی [گیت‌هاب](https://console.liara.ir/settings/github) شوید و بر روی دکمه **اتصال به گیت‌هاب**، کلیک کنید.

![connect to github on liara account](https://media.liara.ir/docs/connect-to-github-on-liara.png)

پس از  
انجام این کار و وارد کردن اطلاعات مربوط به گیت‌هاب، حساب لیارا شما به گیت‌هاب متصل خواهد شد.

![added github account on liara](https://media.liara.ir/docs/added-github-account-on-liara.png)

> در صورت مواجه با خطای "اتصال به Github"، بایستی از حساب لیارا خود، خارج شده و مجدداً به وسیله Github، به اکانت لیارا خود، وارد شوید.

۸. ویرایش دسترسی‌ها  
بعد از اتصال به اکانت گیت‌هاب، بر روی گزینه **ویرایش دسترسی‌ها** کلیک کرده و ریپازیتوری (ریپازیتوری‌های) مدنظرتان را به حساب لیارا متصل کنید.

[Video link](https://media.liara.ir/docs/edit-access-to-github-account.mp4)

۹. استقرار برنامه  
در نهایت، بر روی برنامه خود کلیک کرده وارد صفحه **استقرار جدید** شوید؛ سپس در منوی **گیت‌هاب**، ریپازیتوری مدنظرتان را انتخاب کرده و پس از انتخاب نوع استقرار و branch مدنظرتان، بر روی گزینه **اتصال به برنامه** کلیک کنید تا برنامه‌تان به ریپازیتوری مدنظرتان متصل شود.  
در نهایت، کافیست تا یک‌بار بر روی گزینه **استقرار دستی** کلیک کنید تا آخرین commit شما در لیارا مستقر شود.

[Video link](https://media.liara.ir/docs/deploy-project-using-github.mp4)

> برای قطع ارتباط برنامه و ریپازیتوری نیز، می‌توانید بر روی دکمه **قطع اتصال** کلیک کنید تا تغییرات جدید، مستقر نشوند.

---

در صورتی که قصد دارید دستورات مدنظرتان، پس از استقرار برنامه، اجرا شوند؛ می‌توانید در فایل `liara.json` در آرایه‌ای به نام `args` آن‌ها را مشابه قطعه کد زیر، مشخص کنید:

```json
{
    "args": [ "python3 app.py" ]
}
```

در صورت مشخص نکردن `args`، لیارا به صورت خودکار، دستور `python3 main.py` را، اجرا خواهد کرد.

> در حال حاضر، امکان تعیین دستور اجرا در روش Liara Console وجود ندارد و در این روش، به صورت پیش‌فرض، دستور `python3 main.py` اجرا خواهد شد.

> لیارا با اجرای دستور `pip install` تمامی ماژول‌های موجود در فایل `requirements.txt` را نصب می‌کند. پس حتماً اسامی آن‌ها باید در این فایل باشد.

> همچنین بخوانید: [استقرار قدم به قدم برنامه‌های Python در لیارا](./how-tos/create-app)

## all links

[All links of docs](https://docs.liara.ir/all-links-llms.txt)
