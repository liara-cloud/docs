Original link: https://docs.liara.ir/iaas/details/ssh-key/

# کلیدهای SSH

کلیدهای SSH یک روش امن برای ورود به سرورها و سیستم‌های راه دور هستند. این کلیدها از دو بخش تشکیل شده‌اند: کلید عمومی و کلید خصوصی. کلید عمومی بر روی سرور قرار می‌گیرد و کلید خصوصی در سیستم کاربر نگهداری می‌شود. با استفاده از این کلیدها، می‌توانید بدون نیاز به وارد کردن رمز عبور، به سرور متصل شوید.

> برای اجرای دستورات زیر، از پکیج `openssh-client` استفاده خواهد شد. قبل از اجرای دستورات زیر، اطمینان حاصل کنید که این پکیج، بر روی سیستم شما نصب شده باشد.  
> همچنین بخوانید: [نحوه نصب OpenSSH در لوکال](https://docs.liara.ir/iaas/details/openssh-package/#install-ssh)

## ایجاد یک جفت کلید SSH
برای ایجاد یک جفت کلید SSH، می‌توانید از دستور زیر در ترمینال استفاده کنید:

```bash
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"
```

در دستور فوق، به جای `your_email@example.com`، ایمیل خود را، وارد کنید.  
این دستور یک جفت کلید RSA با طول 4096 بیت ایجاد می‌کند. پس از اجرای این دستور، از شما خواسته می‌شود که یک نام برای فایل کلید و یک رمز عبور اختیاری وارد کنید.

## اضافه کردن کلید عمومی به سرور

## Windows
برای اضافه کردن کلید عمومی به سرور، می‌توانید در حین ساخت سرور مجازی ابری، آن را به سرور خود، اضافه کنید. اما در صورتی که سرور مجازی ابری خود را ساخته‌اید و اکنون قصد اضافه کردن کلید را دارید، می‌توانید در PowerShell، از دستور زیر استفاده کنید:

```bash
scp $env:USERPROFILE\.ssh\id_rsa.pub <user-name>@<your-ip-address>:~/
```

پس از اجرای دستور فوق، با SSH به سرور خود، متصل شوید و با اجرای دستور زیر، کلید عمومی را به فایل `~/.ssh/authorized_keys` اضافه کنید.

```bash
cat ~/id_rsa.pub >> ~/.ssh/authorized_keys
```

در نهایت، می‌توانید فایل اضافی `id_rsa.pub` را حذف کنید:

```bash
rm ~/id_rsa.pub
```

## MacOS - Linux
برای اضافه کردن کلید عمومی به سرور، می‌توانید در حین ساخت سرور مجازی ابری، آن را به سرور خود، اضافه کنید. اما در صورتی که سرور مجازی ابری خود را ساخته‌اید و اکنون قصد اضافه کردن کلید را دارید، می‌توانید از دستور زیر استفاده کنید:

```bash
ssh-copy-id root@<your-ip-address>
```

این دستور کلید عمومی شما را به فایل `~/.ssh/authorized_keys` در سرور اضافه می‌کند.

## اتصال به سرور با استفاده از کلید SSH

پس از اضافه کردن کلید عمومی به سرور، می‌توانید با استفاده از دستور زیر به سرور متصل شوید:

```bash
ssh <user-name>@<your-ip-address>
```

در قطعه کد فوق، به جای `user-name`، نام کاربری خود و به جای `your-ip-address`، آدرس IP سرور خود را وارد کنید.

## all links

[All links of docs](https://docs.liara.ir/all-links-llms.txt)
